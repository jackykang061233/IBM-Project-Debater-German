Remote Desktop Protocol (RDP) ist ein von Microsoft entwickeltes proprietäres Protokoll, das einem Benutzer eine grafische Schnittstelle zur Verbindung mit einem anderen Computer über eine Netzwerkverbindung zur Verfügung stellt. Dazu verwendet der Benutzer RDP-Client-Software, während der andere Computer RDP-Server-Software ausführen muss. Clients existieren für die meisten Versionen von Microsoft Windows (einschließlich Windows Mobile,) Linux, Unix, macOS, iOS, Android und andere Betriebssysteme. RDP-Server werden in Windows-Betriebssysteme eingebaut; ein RDP-Server für Unix und OS X existiert auch. Standardmäßig hört der Server auf TCP-Port 3389 und UDP-Port 3389. Microsoft bezieht sich aktuell auf ihre offizielle RDP-Client-Software als Remote Desktop Connection, früher "Terminal Services Client". Das Protokoll ist eine Erweiterung des ITU-T T.128 Application Sharing Protokolls. Microsoft macht einige Spezifikationen auf ihrer Website bekannt. Historie Jede Version von Microsoft Windows von Windows XP enthält einen installierten Remote Desktop Connection (RDC) ("Terminal Services") Client (mstsc.exe), dessen Version von der des Betriebssystems oder dem zuletzt verwendeten Windows Service Pack bestimmt wird. Der Terminal Services Server wird als offizielle Funktion unter Windows NT 4.0 Terminal Server Edition unterstützt, veröffentlicht 1998, Windows 2000 Server, alle Ausgaben von Windows XP außer Windows XP Home Edition, Windows Server 2003, Windows Home Server, unter Windows Fundamentals for Legacy PCs, in Windows Vista Ultimate, Enterprise und Business Editionen, Windows Server 2008 und Windows Server 2008 R2 und unter Windows 7 Professional und oben. Microsoft stellt den Client zur Verbindung mit neueren RDP-Versionen für Downlevel-Betriebssysteme zur Verfügung. Da die Serververbesserungen nicht verfügbar sind Downlevel, arbeiten die mit jeder neueren RDP-Version eingeführten Funktionen nur auf Downlevel-Betriebssystemen, wenn sie mit einem höheren RDP-Server aus diesen älteren Betriebssystemen verbunden sind, und nicht bei Verwendung des RDP-Servers im älteren Betriebssystem. Version 4.0 Basierend auf dem ITU-T T.128 Application Sharing Protokoll (bei Entwurf auch T.share) aus der T.120 Empfehlungsreihe wurde die erste Version von RDP (Name Version 4.0) von Microsoft mit "Terminal Services" als Teil ihres Produkts Windows NT 4.0 Server, Terminal Server Edition eingeführt. Die Terminal Services Edition von NT 4.0 basiert auf der Citrix MultiWin-Technologie, die zuvor als Teil von Citrix WinFrame auf Windows NT 3.51 bereitgestellt wurde, um mehrere Benutzer und Anmeldesitzungen gleichzeitig zu unterstützen. Microsoft forderte Citrix auf, ihre MultiWin-Technologie an Microsoft zu lizenzieren, um weiterhin ihr eigenes Terminal-Services-Produkt anbieten zu können, das dann Citrix MetaFrame, atop Windows NT 4.0 genannt wird. Die Citrix-providierten DLLs, die in der Windows NT 4.0 Terminal Services Edition enthalten sind, tragen immer noch ein Citrix Copyright und nicht ein Microsoft Copyright. Spätere Versionen von Windows integriert die notwendige Unterstützung direkt. Die T.128 Anwendungsfreigabetechnologie wurde von Microsoft vom britischen Softwareentwickler Data Connection Limited übernommen. Version 5.0 Diese Version wurde mit Windows 2000 Server eingeführt, die Unterstützung für eine Reihe von Funktionen, einschließlich des Drucks auf lokale Drucker, hinzugefügt und zielt darauf ab, die Netzwerkbandbreitennutzung zu verbessern. Version 5.1 Diese Version wurde mit Windows XP Professional eingeführt und mit Unterstützung für 24-Bit Farbe und Sound ausgestattet. Der Client ist für Windows 2000, Windows 9x, Windows NT 4.0 Mit dieser Version wurde der Name des Clients von Terminal Services Client auf Remote Desktop Connection geändert; das Erbe bleibt bis heute, da das zugrunde liegende ausführbare ist noch mstsc.exe Version 5.2 Diese Version wurde mit Windows Server 2003 eingeführt, inklusive Unterstützung für Konsolen-Modus-Verbindungen, ein Sitzungsverzeichnis und lokale Ressourcen-Mapping. Es führt auch Transport Layer Security (TLS) 1.0 zur Serverauthentifizierung ein und zur Verschlüsselung von Terminalserver-Kommunikation. Diese Version ist in Windows XP Professional x64 Edition und Windows Server 2003 x64 & x86 Editions integriert. Version 6.0 Diese Version wurde mit Windows Vista eingeführt und unterstützt für Windows Präsentation Foundation-Anwendungen, Network Level Authentication, Multi-Monitor-Spannung und große Desktop-Unterstützung, und TLS 1.0-Verbindungen. Version 6.0 Client ist für Windows XP SP2, Windows Server 2003 SP1/SP2 (x86 und x64 Editionen) und Windows XP Professional x64 Edition erhältlich. Microsoft Remote Desktop Connection Client für Macintosh Sicherheit X ist auch mit Unterstützung für Intel und PowerPC Mac OS Versionen 10.4.9 und mehr verfügbar. Version 6.1 Diese Version wurde im Februar 2008 veröffentlicht und ist mit Windows Server 2008 sowie mit Windows Vista Service Pack 1 enthalten. Der Client ist mit Windows XP SP3 enthalten. Neben Änderungen, die mit der Verbindung eines Remote-Administrators mit der Konsole verbunden sind, verfügt diese Version über eine neue Funktionalität, die in Windows Server 2008 eingeführt wird, wie z.B. die Verbindung von Remote zu einzelnen Programmen und ein neues clientseitiges Drucker-Umleitungssystem, das die Druckfähigkeiten des Clients für Anwendungen auf dem Server zur Verfügung stellt, ohne dass Drucktreiber auf dem Server installiert werden müssen, kann der Remote-Administrator am Ende eine Software frei installieren, hinzufügen/entfernung vornehmen oder Einstellungen vornehmen. Um jedoch eine Remote-Administrationssitzung zu starten, muss man Mitglied der Gruppe Administratoren auf dem Server sein, an den man sich anschließen will. Version 7.0 Diese Version wurde im Juli 2009 veröffentlicht und ist mit Windows Server 2008 R2 sowie mit Windows 7 enthalten. Mit dieser Veröffentlichung wurde auch von Terminal Services zu Remote Desktop Services geändert. Diese Version verfügt über neue Funktionen wie Windows Media Player Umleitung, bidirektionale Audio, Multi-Monitor-Unterstützung, Aero-Glas-Unterstützung, verbesserte Bitmap Beschleunigung, Easy Print Umleitung, Language Bar Docking. Der RDP 7.0 Client ist unter Windows XP SP3 und Windows Vista SP1/SP2 über KB969084 verfügbar. Der RDP 7.0 Client wird nicht offiziell unter Windows Server 2003 x86 und Windows Server 2003 / Windows XP Professional x64 Editionen unterstützt. Die meisten RDP 7.0 Funktionen wie Aero-Glasfernbedienung, bidirektionale Audio, Windows Media Player Umleitung, mehrere Monitor-Unterstützung und Remote Desktop Easy Print sind nur in Windows 7 Enterprise oder Ultimate Editionen verfügbar. Version 7.1 Release 7.1 von RDP wurde 2010 mit Windows 7 Service Pack 1 und Windows Server 2008 R2 SP1 aufgenommen. Es stellte RemoteFX vor, die eine virtualisierte GPU-Unterstützung und eine Host-Seitencodierung bietet. Version 8.0 Diese Version wurde in Windows 8 und Windows Server 2012 veröffentlicht. Diese Version verfügt über neue Funktionen wie Adaptive Graphics (progressive Rendering und verwandte Techniken), automatische Auswahl von TCP oder UDP als Transportprotokoll, Multi-Touch-Unterstützung, DirectX 11 Unterstützung für vGPU, USB-Umleitung unterstützt unabhängig von vGPU-Unterstützung, etc. In der RDP-Client-Verbindungsleiste für RDP 8.0-Verbindungen wird eine "Verbindungsqualität"-Taste angezeigt, auf der Sie weitere Informationen über die Verbindung erhalten, einschließlich der Nutzung von UDP oder nicht. Die RDP 8.0 Client- und Serverkomponenten sind auch als Add-on für Windows 7 SP1 verfügbar. Der RDP 8.0 Client ist auch für Windows Server 2008 R2 SP1 verfügbar, die Serverkomponenten sind jedoch nicht. Das Add-on erfordert die Installation des DTLS-Protokolls als Voraussetzung. Nach der Installation der Updates wird für das RDP 8.0 Protokoll zwischen Windows 7 Maschinen ein zusätzlicher Konfigurationsschritt mit dem Group Policy Editor benötigt. Eine neue Funktion in RDP 8.0 ist begrenzte Unterstützung für RDP-Sitzungs-Nisting; es funktioniert nur für Windows 8 und Server 2012, Windows 7 und Server 2008 R2 (auch mit dem RDP 8.0-Update) unterstützen diese Funktion nicht. Die Schattenfunktion von RDP 7, die es einem Administrator erlaubte, auf einer RDP-Verbindung (Snoop) zu überwachen, wurde in RDP entfernt 8. Das Aero-Glas-Remoting-Feature (für Windows 7-Maschinen, die miteinander verbunden sind) wurde auch in RDP entfernt 8. Version 8.1 Diese Version wurde mit Windows 8.1 und Windows Server 2012 R2 veröffentlicht. Ein RDP 8.1 Client-Update existiert auch für Windows 7 SP1, aber im Gegensatz zum RDP 8.0-Update für Windows 7, es fügt keine RDP 8.1 Server-Komponente zu Windows hinzu 7. Falls die RDP 8.0 Serverfunktion unter Windows 7 gewünscht wird, muss das KB 2592687 (RDP 8.0 Client- und Serverkomponenten) Update vor der Installation des RDP 8.1 Update installiert werden. Unterstützung für Session-Abschattung wurde in RDP-Version 8.1 hinzugefügt Diese Version repariert auch einige visuelle Glitches mit Microsoft Office 2013, wenn als RemoteApp.Version 8.1 der RDP auch einen "beschränkten Admin" Modus ermöglicht. Das Einloggen in diesen Modus erfordert nur die Kenntnis des Hash-Passworts, anstatt seines Klartexts, so dass ein Pass der Hash-Angriff möglich ist. Microsoft hat ein 82-seitiges Dokument veröffentlicht, das erklärt, wie man diese Art von Angriff mildert. Die Version 10.0 Version 10.0 des RDP enthält folgende neue Features: AutoSize-Zoom (verwendend für HiDPI-Clients). Zusätzlich wurden Grafikkompressionsverbesserungen unter Verwendung von H.264/AVC Features 32-Bit Farbunterstützung enthalten. 8,- 15,- 16,- und 24-Bit-Farbe werden ebenfalls unterstützt. 128-Bit-Verschlüsselung mit dem RC4-Verschlüsselungsalgorithmus ab Version 6. TLS-Unterstützung seit Version 5.2 Audio Redirection ermöglicht es Benutzern, Audio auf einem Remote-Desktop zu verarbeiten und den Sound auf ihren lokalen Computer umzuleiten. File System Redirection ermöglicht es Benutzern, ihre lokalen Dateien auf einem Remote-Desktop innerhalb der Terminalsitzung zu verwenden. Printer Redirection ermöglicht es Benutzern, ihren lokalen Drucker innerhalb der Terminal-Session zu verwenden, wie sie mit einem lokal- oder netzwerkgebundenen Drucker würden. Port Redirection ermöglicht Anwendungen, die innerhalb der Terminal-Sitzung laufen, um lokale serielle und parallele Ports direkt zugreifen. Der Remotecomputer und der lokale Computer können die Zwischenablage teilen. Microsoft hat 2006 folgende Funktionen mit der Veröffentlichung von RDP 6.0 vorgestellt: Nahtlose Windows: Remote-Anwendungen können auf einer Client-Maschine laufen, die von einer Remote Desktop-Verbindung bedient wird. Es ist verfügbar seit RDP 6. Remote-Programme: Anwendungsveröffentlichung mit clientseitigen Datei-Verknüpfungen. Terminal Services Gateway: ermöglicht es, über eine https-Verbindung, wie RPC über https Outlook-Clients die Verbindung zu einem Back-End Exchange 2003-Server ermöglicht, einen IIS-Server mit einem Frontend zu verwenden, um Verbindungen (über Port 443) für Back-End-Terminal-Dienste zu akzeptieren. Erfordert Windows Server 2008. Network Level Authentication Unterstützung für das Remotieren des Aero Glass Themes (oder Composed Desktop), einschließlich ClearType-Schriftierungstechnologie. Unterstützung für die Wiederherstellung von Windows Präsentation Foundation Anwendungen: kompatible Clients, die haben . NET Framework 3.0-Unterstützung kann volle Auswirkungen der Windows Präsentation Foundation auf eine lokale Maschine anzeigen. Die Umleitung des Geräts soll allgemeiner sein, so dass eine größere Vielfalt von Geräten zugegriffen werden kann. Vollständig konfigurierbar und Scriptierbar über Windows Management Instrumentation. Verbesserte Bandbreitenabstimmung für RDP-Clients. Unterstützung für Transport Layer Security (TLS) 1.0 auf beiden Server- und Client-Enden (kann ausgehandelt werden, wenn beide Parteien einverstanden sind, aber nicht zwingend in einer Standardkonfiguration jeder Version von Windows). Mehrere Monitor-Unterstützung, damit eine Sitzung mehrere Monitore auf dem Client (Desktop-Zusammensetzung deaktivieren)Release 7.1 von RDP im Jahr 2010 eingeführt die folgende Funktion: RemoteFX: RemoteFX bietet eine virtualisierte GPU-Unterstützung und eine Host-Seitencodierung, die im Rahmen von Windows Server 2008 R2 SP1 ausgeliefert wird. Sicherheitsprobleme Version 5.2 der RDP in ihrer Standardkonfiguration ist für einen Man-in-the-middle-Angriff empfindlich. Administratoren können die Verschlüsselung der Transportschicht aktivieren, um dieses Risiko zu mindern. RDP-Sitzungen sind auch anfällig für die in-Memory-Anmelden Ernte, die verwendet werden können, um die Hash-Angriffe zu starten. Im März 2012 veröffentlichte Microsoft ein Update für eine kritische Sicherheitslücke in der RDP. Die Schwachstelle erlaubte einem Windows-Computer, von unauthenticated Clients und Computer-Würmern beeinträchtigt werden. RDP-Client Version 6.1 kann verwendet werden, um die Namen und Bilder aller Benutzer auf dem RDP-Server (je nachdem, welche Windows-Version) anzuzeigen, um eine auszuwählen, wenn kein Benutzername für die RDP-Verbindung angegeben ist. Im März 2018 veröffentlichte Microsoft ein Patch für CVE-2018-0886, eine Remote-Code-Execution Schwachstelle in CredSSP, die ein Security Support Provider in der Microsoft Remote Desktop und Windows Remote Management beteiligt ist, entdeckt von Preempt. Im Mai 2019 Microsoft veröffentlichte ein Sicherheits-Patch für CVE-2019-0708 (BlueKeep,) eine Sicherheitslücke, die die Möglichkeit der Remote-Code-Ausführung ermöglicht und die Microsoft warnte warnte warnbar, mit dem Potenzial, weit verbreitete Störungen zu verursachen. Ungewöhnlich, Patches wurden auch für mehrere Versionen von Windows zur Verfügung gestellt, die ihre End-of-life erreicht hatten, wie Windows XP. Keine sofortige böswillige Ausbeutung folgte, aber Experten waren einhellig, dass dies wahrscheinlich war, und könnten weit verbreitete Schäden verursachen, basierend auf der Anzahl der Systeme, die schien offen geblieben und unpatched. Im Juli 2019 veröffentlichte Microsoft ein Sicherheits-Patch für CVE-2019-0887, eine RDP-Verwundbarkeit, die Hyper-V betrifft. Nicht-Microsoft Implementierungen Es gibt zahlreiche nicht-Microsoft-Implementierungen von RDP-Clients und -Servern, die Subsets der Microsoft-Funktionalität implementieren. Zum Beispiel ist der Open-Source-Befehlszeilen-Client rdesktop für Linux/Unix und Microsoft Windows-Betriebssysteme verfügbar. Es gibt viele GUI-Clients, wie tsclient und KRDC, die auf dem Rdesktop gebaut werden. 2009 wurde rdesktop als FreeRDP forciert, ein neues Projekt, das darauf abzielt, den Code zu modularisieren, verschiedene Probleme zu lösen und neue Features umzusetzen. FreeRDP kommt mit einem eigenen Kommandozeilen-Client xfreerdp, das Seamless Windows in RDP6 unterstützt. Um 2011 beschloss das Projekt, das Forking zu verlassen und stattdessen neu zu schreiben unter Apache-Lizenz, fügte mehr Funktionen wie RemoteFX, RemoteApp und NTLMv2. Eine kommerzielle Distribution namens Thincast wurde im Jahr 2019 gestartet. Im Sommer 2020 folgte ein Multi-Plattform-Client auf Basis von FreeRDP inklusive Vulkan/H.264-Unterstützung. Es gibt auch eine GTK-Anwendung namens Remmina. Open-Source RDP Server auf Unix umfassen FreeRDP, ogon Projekt und xrdp. Der Windows Remote Desktop Connection Client kann verwendet werden, um mit einem solchen Server zu verbinden. Spezielle RDP-Client-Lösungen wie rdpclient sind als eigenständige Anwendung erhältlich oder mit Client-Hardware eingebettet. Ein neues Zugriffsparadigma, Browser-basierter Zugriff, hat es Benutzern ermöglicht, auf Windows-Desktops und Anwendungen auf jedem RDP-Host, wie Microsoft Remote Desktop (RDS) Session Hosts (Terminal Services) und virtuellen Desktops, sowie Remote-Physical PCs zugreifen. Es gibt auch ein VirtualBox Remote Display Protocol (VRDP) in der VirtualBox Virtual Machine Implementation von Oracle verwendet. Dieses Protokoll ist kompatibel mit allen RDP-Clients, wie z.B. mit Windows, aber im Gegensatz zum ursprünglichen RDP, kann konfiguriert werden, um unverschlüsselte und Passwort ungeschützte Verbindungen zu akzeptieren, die in sicheren und vertrauenswürdigen Netzwerken wie Heim- oder Büro-LANs nützlich sein können. Standardmäßig verweigert Microsofts RDP-Server Verbindungen zu Benutzerkonten mit leeren Passwörtern (aber diese kann mit dem Group Policy Editor geändert werden). Auch externe und Gästeberechtigungsoptionen werden von VRDP bereitgestellt. Es spielt keine Rolle, welches Betriebssystem als Gast installiert ist, weil VRDP auf der virtuellen Maschine (Host) Ebene implementiert ist, nicht im Gastsystem. Das proprietäre VirtualBox Extension Pack ist erforderlich. Patente Microsoft benötigt Drittanbieter-Implementierungen, um die relevanten RDP-Patente zu lizenzieren. Ab Februar 2014 bleibt das Ausmaß, in dem Open-Source-Clients diese Anforderung erfüllen, unbekannt. Verwendung in Cybercrime Security-Forscher haben berichtet, dass Cyberkriminelle verkaufen Kompromisse RDP-Server auf unterirdischen Foren sowie spezialisierte illegale RDP-Shops. Diese kompromittierten RDPs können als "staging Ground" für die Durchführung anderer Betrugsarten oder für den Zugriff auf sensible personenbezogene oder geschäftliche Daten verwendet werden. Forscher berichten weitere Instanzen von Cyberkriminellen mit RDPs, um Malware direkt auf Computern zu fallen. Siehe auch BlueKeep (Sicherheitslücke) Vergleich der Remote Desktop-Software Desktop Virtualisierung SPICE und RFB Protokoll – andere Desktop-Remoting-Protokolle Virtual Private Server Referenzen Externe Links Remote Desktop Protocol – von Microsofts Developer Network Understanding the Remote Desktop Protocol – von support.microsoft.com MS-RDPBCGR: Remote Desktop Protocol: Basic Connectivity und Graphics Remoting Spezifikation – von Microsofts Entwicklernetzwerk