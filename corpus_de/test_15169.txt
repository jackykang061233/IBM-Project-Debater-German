Das Echtzeit-Transportprotokoll (RTP) ist ein Netzwerkprotokoll zur Bereitstellung von Audio und Video über IP-Netzwerke. RTP wird in Kommunikations- und Unterhaltungssystemen verwendet, die Streaming-Medien beinhalten, wie Telefonie, Video-Telekonferenz-Anwendungen einschließlich WebRTC, Fernsehdienste und webbasierte Push-to-talk-Funktionen. RTP läuft typischerweise über das User Datagram Protocol (UDP.) RTP wird in Verbindung mit dem RTP Control Protocol (RTCP) verwendet. Während RTP die Medienströme (z.B. Audio und Video) RTCP zur Überwachung von Übertragungsstatistiken und Servicequalität (QoS) verwendet und die Synchronisation mehrerer Streams unterstützt. RTP ist eine der technischen Grundlagen von Voice over IP und wird in diesem Zusammenhang häufig in Verbindung mit einem Signalisierungsprotokoll wie dem Session Initiation Protocol (SIP) verwendet, das Verbindungen über das Netzwerk herstellt. RTP wurde von der Arbeitsgruppe Audio-Video-Transport der Internet Engineering Task Force (IETF) entwickelt und erstmals 1996 als RFC 1889 veröffentlicht, der dann 2003 von RFC 3550 überholt wurde. Überblick RTP ist für End-to-End, Echtzeit-Transfer von Streaming-Medien konzipiert. Das Protokoll bietet Einrichtungen für Jitter-Kompensation und Erkennung von Paketverlust und Out-of-order-Lieferung, die insbesondere bei UDP-Übertragungen auf einem IP-Netzwerk üblich sind. RTP ermöglicht die Datenübertragung zu mehreren Zielen durch IP-Multicast. RTP gilt als primärer Standard für Audio/Video-Transport in IP-Netzwerken und wird mit einem zugehörigen Profil- und Payload-Format verwendet. Die Konstruktion von RTP basiert auf dem architektonischen Prinzip, das als Anwendungsschicht-Framing bekannt ist, bei dem in der Anwendung im Gegensatz zum Protokollstapel des Betriebssystems Protokollfunktionen implementiert werden. Echtzeit-Multimedia-Streaming-Anwendungen erfordern eine rechtzeitige Bereitstellung von Informationen und können oft einen Paketverlust tolerieren, um dieses Ziel zu erreichen. Beispielsweise kann ein Verlust eines Pakets in der Audio-Applikation zu einem Verlust eines Bruchteils einer Sekunde von Audiodaten führen, die mit geeigneten Fehlerverbergungsalgorithmen unmerklich gemacht werden können. Das Transmission Control Protocol (TCP), obwohl für RTP-Nutzung standardisiert, wird normalerweise nicht in RTP-Anwendungen verwendet, da TCP die Zuverlässigkeit über die Zeitlichkeit begünstigt. Stattdessen wird die Mehrheit der RTP-Implementierungen auf dem User Datagram Protocol (UDP) aufgebaut. Andere Transportprotokolle, die speziell für Multimedia-Sessions konzipiert sind, sind SCTP und DCCP, obwohl sie ab 2012 nicht in weit verbreiteter Nutzung sind. RTP wurde von der Arbeitsgruppe Audio/Video Transport der IETF-Standards entwickelt. RTP wird in Verbindung mit anderen Protokollen wie H.323 und RTSP verwendet. Die RTP-Spezifikation beschreibt zwei Protokolle: RTP und RTCP. RTP wird für die Übertragung von Multimedia-Daten verwendet, und das RTCP wird verwendet, um periodisch Kontrollinformationen und QoS-Parameter zu senden. Das Datenübertragungsprotokoll RTP trägt Echtzeitdaten. Die durch dieses Protokoll bereitgestellten Informationen umfassen Zeitstempel (zur Synchronisation), Sequenznummern (für Paketverlust und Reordering-Erkennung) und das Nutzformat, das das codierte Format der Daten angibt. Das Kontrollprotokoll, RTCP, wird für die Qualität des Dienstes (QoS) Rückkopplung und Synchronisation zwischen den Medienströmen verwendet. Die Bandbreite des RTCP-Verkehrs im Vergleich zu RTP ist klein, typischerweise um 5%. RTP-Sitzungen werden typischerweise zwischen der Kommunikation von Peers mit einem Signalisierungsprotokoll, wie H.323, dem Session Initiation Protocol (SIP,) RTSP oder Jingle (XMPP) initiiert. Diese Protokolle können das Protokoll zur Sitzungsbeschreibung verwenden, um die Parameter für die Sitzungen festzulegen. Für jeden Multimedia-Stream wird eine RTP-Session eingerichtet. Audio- und Videostreams können separate RTP-Sitzungen verwenden, so dass ein Empfänger selektiv Komponenten eines bestimmten Streams empfangen kann. Das RTP- und RTCP-Design ist unabhängig vom Transportprotokoll. Anwendungen am häufigsten verwenden UDP mit Portnummern im unprivilegierten Bereich (1024 bis 65535). Das Stream Control Transmission Protocol (SCTP) und das Datagram Congestion Control Protocol (DCCP) können verwendet werden, wenn ein zuverlässiges Transportprotokoll gewünscht wird. Die RTP-Spezifikation empfiehlt sogar Portnummern für RTP und die Verwendung der nächsten ungeraden Portnummer für die zugehörige RTCP-Sitzung. Ein einziger Port kann für RTP und RTCP in Anwendungen verwendet werden, die die Protokolle multiplexen. RTP wird von Echtzeit-Multimedia-Anwendungen verwendet, wie Stimme über IP, Audio über IP, WebRTC und Internet Protocol TV Profiles und Payload-Formate RTP ist entworfen, um eine Vielzahl von Multimedia-Formaten zu tragen, die die Entwicklung neuer Formate ermöglicht, ohne den RTP-Standard zu ändern.Zu diesem Zweck sind die durch eine bestimmte Anwendung des Protokolls erforderlichen Informationen nicht in den generischen RTP-Header enthalten. Für jede Anwendungsklasse (z.B. Audio, Video) definiert RTP ein Profil und zugehörige Nutzformate. Jede Instantiation von RTP in einer bestimmten Anwendung erfordert ein Profil und Payload-Format Spezifikationen. Das Profil definiert die Codecs, die verwendet werden, um die Nutzdaten und deren Zuordnung zu Nutzformatcodes im Protokollfeld Payload Type (PT) des RTP-Headers zu kodieren. Jedes Profil wird von mehreren Payload-Format-Spezifikationen begleitet, die jeweils den Transport bestimmter codierter Daten beschreiben. Beispiele für Audio-Payload-Formate sind G.711, G.723, G.726, G.729, GSM, QCELP, MP3 und DTMF, Beispiele für Video-Payloads sind H.261, H.263, H.264, H.265 und MPEG-1/MPEG-2. Die Zuordnung von MPEG-4 Audio/Video-Streams zu RTP-Paketen ist in RFC 3016 angegeben, und H.263 Video-Payloads sind in RFC 2429 beschrieben. Beispiele für RTP-Profile sind: Das RTP-Profil für Audio- und Videokonferenzen mit minimaler Steuerung (RFC 3551) definiert eine Reihe von statischen Payload-Typzuweisungen und einen dynamischen Mechanismus zur Zuordnung zwischen einem Payload-Format und einem PT-Wert mit Session Description Protocol (SDP). Das Secure Real-time Transport Protocol (SRTP) (RFC 3711) definiert ein RTP-Profil, das kryptografische Dienste für die Übertragung von Nutzdaten bietet. Das experimentelle Kontrolldatenprofil für RTP (RTP/CDP) für maschinelle Kommunikation. Packet Header RTP-Pakete werden an der Applikationsschicht erstellt und zur Abgabe an die Transportschicht übergeben. Jede von einer Anwendung erstellte Einheit von RTP-Mediendaten beginnt mit dem RTP-Paketkopf. Der RTP-Header hat eine Mindestgröße von 12 Bytes. Nach dem Header können optionale Header-Erweiterungen vorhanden sein. Anschliessend folgt die RTP-Payload, deren Format von der jeweiligen Anwendungsklasse bestimmt wird. Die Felder im Header sind wie folgt: Ausführung: (2 Bit) Zeigt die Version des Protokolls an. Aktuelle Version ist 2.P (Padding:) (1 Bit) Wird angezeigt, ob am Ende des RTP-Pakets zusätzliche Polsterbytes vorhanden sind. Das Padding kann verwendet werden, um einen Block bestimmter Größe zu füllen, beispielsweise wie er durch einen Verschlüsselungsalgorithmus benötigt wird. Das letzte Byte der Polsterung enthält die Anzahl der hinzugefügten Polsterbytes (einschließlich selbst). X (Erweiterung:) (1 Bit) Zeigt das Vorhandensein eines Erweiterungs-Headers zwischen dem Header und den Nutzdaten an. Der Erweiterungs-Header ist anwendungs- oder profilspezifisch.CC (CSRC Count:) (4 Bits) Enthält die Anzahl der CSRC-Kennzeichen (im Folgenden definiert), die dem SSRC folgen (im Folgenden auch definiert). M (Marker:) (1 Bit) profilspezifische Signalisierung auf Anwendungsebene verwendet. Wenn es eingestellt ist, bedeutet es, dass die aktuellen Daten eine besondere Relevanz für die Anwendung haben. PT (Payload-Typ:) (7 Bit) Zeigt das Format der Nutzlast an und bestimmt damit ihre Interpretation durch die Anwendung. Werte sind profilspezifisch und können dynamisch zugeordnet werden. Sequenznummer: (16 Bits)Die Sequenznummer wird für jedes gesendete RTP-Datenpaket inkrementiert und wird vom Empfänger zur Erkennung von Paketverlusten und zur Aufnahme von Out-of-order-Lieferung verwendet. Der Anfangswert der Sequenznummer sollte randomisiert werden, um bekannte-plaintext-Angriffe auf Secure Real-time Transport Protocol schwieriger zu machen. Zeitstempel: (32 Bit) Wird vom Empfänger verwendet, um die empfangenen Proben zu einem angemessenen Zeitpunkt und Intervall zurückzugeben. Wenn mehrere Medienströme vorhanden sind, können die Zeitstempel in jedem Stream unabhängig sein. Die Granularität des Timings ist anwendungsspezifisch. Beispielsweise würde eine Audioanwendung, die einmal alle 125 μs (8 kHz, eine gemeinsame Abtastrate in der digitalen Telefonie) Daten abtastet, diesen Wert als Taktauflösung verwenden. Videostreams verwenden typischerweise eine 90 kHz-Uhr. Die Taktgranularität ist eine der Details, die im RTP-Profil für eine Anwendung angegeben wird. SSRC: (32 Bits) Synchronisierungsquellenkennung identifiziert eindeutig die Quelle eines Streams. Die Synchronisationsquellen innerhalb derselben RTP-Sitzung werden einzigartig sein. CSRC: (32 Bits je, die Anzahl der Einträge wird durch das CSRC Zählfeld angezeigt) Mit Quell-IDs zählen zu einem Strom, der aus mehreren Quellen generiert wurde, beitragende Quellen. Header Extension: (optional, Präsenz angezeigt durch Erweiterung) Das erste 32-Bit-Wort enthält eine profilspezifische Kennung (16 Bits) und einen Längen-Spezifikator (16 Bits), der die Länge der Erweiterung in 32-Bit-Einheiten angibt, ohne die 32 Bit des Verlängerungskopfs. Die Erweiterungskopfdaten folgen.Anwendungsdesign Eine funktionelle Multimedia-Anwendung erfordert andere Protokolle und Standards, die in Verbindung mit RTP verwendet werden. Protokolle wie SIP, Jingle, RTSP, H.225 und H.245 werden zur Sitzungsinitiierung, Kontrolle und Beendigung verwendet. Andere Standards wie H.264, MPEG und H.263 werden zur Kodierung der Nutzdaten gemäß dem geltenden RTP-Profil verwendet. Ein RTP-Sender erfasst die Multimedia-Daten, kodiert, Frames und sendet sie als RTP-Pakete mit entsprechenden Zeitstempeln und zunehmenden Zeitstempeln und Sequenznummern. Der Absender stellt das Feld Nutzlasttyp gemäß Verbindungsverhandlungen und das RTP-Profil in Gebrauch. Der RTP-Empfänger erkennt fehlende Pakete und kann Pakete neu bestellen. Es dekodiert die Mediendaten in den Paketen nach dem Payload-Typ und stellt den Stream seinem Benutzer vor. RFC 3550, Standard 64, RTP:A Transport Protocol for Real-Time Applications RFC 3551, Standard 65, RTP-Profil für Audio- und Videokonferenzen mit Minimal Control RFC 4855, Media Type Registration of RTP Payload Formats RFC 4856, Media Type Registration of Payload Formats in the RTP Profile for Audio and VideoTP Conferences RFC 7656 Siehe auch Real TimeStreaming Protocol Real Data Transport ZRTP Hinweise Referenzen Weiter lesen RTP".Network Protocols Handbuch. Javvin Technologies.2005.ISBN 978-0-9740945-2-6. Externe Links Henning Schulzrinnes RTP-Seite (einschließlich FAQ)GNU ccRTP JRTPLIB, eine C+ RTP-Bibliothek Managed Media Aggregation: .NETC# RFC-konforme Implementierung von RTP / RTCP geschrieben in vollständig verwaltetem Code. RTP, Breitbandnetze, Ministerium für Humanressourcen, Indien, 2008