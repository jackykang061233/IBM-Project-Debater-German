Ein Standard-Gateway ist der Knoten in einem Computernetzwerk mit der Internet-Protokoll-Suite, die als Weiterleitungs-Host (Router) zu anderen Netzwerken dient, wenn keine andere Routenspezifikation mit der Ziel-IP-Adresse eines Pakets übereinstimmt. Rolle Ein Gateway ist ein Netzknoten, der als Zugangspunkt zu einem anderen Netzwerk dient, wobei oft nicht nur eine Änderung der Adressierung, sondern auch eine andere Netzwerktechnologie miteinbezogen wird. enger definiert, leitet ein Router lediglich Pakete zwischen Netzwerken mit unterschiedlichen Netzwerk-Präfixen weiter. Der Netzwerksoftwarestapel jedes Computers enthält eine Routing-Tabelle, die angibt, welche Schnittstelle zur Übertragung verwendet wird und welche Router im Netzwerk für die Weiterleitung an einen bestimmten Adressensatz verantwortlich ist. Wenn keine dieser Weiterleitungsregeln für eine bestimmte Zieladresse geeignet ist, wird das Standard-Gateway als Router des letzten Resorts gewählt. Das Standard-Gateway kann durch den Routenbefehl festgelegt werden, um die Routingtabelle und die Standardroute des Knotens zu konfigurieren. In einer heimischen oder kleinen Büroumgebung ist das Standard-Gateway ein Gerät wie ein DSL-Router oder Kabelrouter, der das lokale Netzwerk mit dem Internet verbindet. Es dient als Standard-Gateway für alle Netzwerkgeräte. Enterprise-Netzwerksysteme können viele interne Netzwerksegmente benötigen. Ein Gerät, das beispielsweise mit einem Host im öffentlichen Internet kommunizieren möchte, leitet das Paket an das Standard-Gateway für sein Netzwerksegment weiter. Dieser Router verfügt auch über eine Standardroute, die für ein Gerät in einem benachbarten Netzwerk konfiguriert ist, ein Hop näher an das öffentliche Netzwerk. Beispiele Einzelroute Das folgende Beispiel zeigt IP-Adressen, die mit einem Büronetzwerk verwendet werden können, das aus sechs Hosts plus einem Router besteht. Die sechs Hostadressen sind: 192.168.4.3 192.168.4.4 192.168.4.5 192.168.4.6 192.168.4.7 192.168.4.8Die Innenadresse des Routers ist: 192.168.4.1 Das Netzwerk verfügt über eine Subnetmaske von: 255.255.255.0(/24 in CIDR-Notation) Der Hostzuordnende Adressbereich beträgt von 192.168.4.1 bis 192.168.4.254.TCP/IP definiert die Adressen 192.168.4.0 und 192.168.4.255 für besondere Funktionen. Die Hosts des Büros senden Pakete an Adressen innerhalb dieses Bereiches direkt, indem Sie die Ziel-IP-Adresse in eine MAC-Adresse mit der Adresse Resolution Protocol (ARP)-Sequenz auflösen und anschließend das IP-Paket in einen an den Zielhost adressierten MAC-Rahmen einkapseln. Ein außerhalb dieses Bereiches adressiertes Paket, beispielsweise adressiert an 192.168.12.3, kann nicht direkt an das Ziel gelangen. Stattdessen muss es an das Standard-Gateway gesendet werden, um weitere Routen zu ihrem endgültigen Ziel. In diesem Beispiel verwendet das Standard-Gateway die IP-Adresse 192.168.4.1, die in üblicher Weise in eine MAC-Adresse mit ARP aufgelöst wird. Die Ziel-IP-Adresse bleibt 192.168.12.3, aber die nächste MAC-Adresse ist die des Gateways, anstatt des endgültigen Ziels. Multirouter In einem anderen Beispiel ist ein Netzwerk mit drei Routern und drei Hosts über Router1 mit dem Internet verbunden. Die Host-Adressen sind: PC1 10.1.1.100, default gateway 10.1.1.1 PC2 172.16.1.100, default gateway 172.16.1.1 PC3 192.168.1.100, default gateway 192.168.1.96 Router1: Schnittstelle 1 5.5.5.2 (öffentliche IP)Schnittstelle 2 10.1.1.1Router2: Schnittstelle 1 10.1.1.2 Schnittstelle 2 172.16.1.1Router3: Schnittstelle 1 10.1.1.3 Schnittstelle 2 192.168.1.96 Netzwerkmaske in allen Netzwerken:255.255.0 /(24 in CIDR-Notation). Wenn die Router kein Routing-Protokoll verwenden, um herauszufinden, mit welchem Netzwerk jeder Router verbunden ist, dann muss die Routing-Tabelle jedes Routers eingerichtet werden. Router1 Router2 Router3 Router2 verwaltet seine angeschlossenen Netzwerke und Standard-Gateway; Router 3 tut das gleiche; Router 1 verwaltet alle Routen innerhalb der internen Netzwerke. Zugriff auf interne RessourcenWenn PC2 (172.16.1.100) auf PC3 (192.168.1.100) zugreifen muss, da PC2 keine Route zu 192.168.1.100 hat, wird es Pakete für PC3 zu seinem Standard-Gateway senden (router2). Router2 hat auch keine Route zu PC3, und es wird die Pakete zu seinem Standard-Gateway (router1) weiterleiten. Router1 hat eine Route für dieses Netzwerk (192.168.1.0/24) so router1 wird die Pakete an router3 weiterleiten, die die Pakete an PC3 liefern wird; Antwortpakete folgen der gleichen Route zu PC2. Zugriff auf externe Ressourcen Wenn eine der Computer versuchen, auf eine Webseite im Internet zuzugreifen, wie https://en.wikipedia.org, wird das Ziel zunächst mit Hilfe von DNS-Resolving auf eine IP-Adresse aufgelöst. Die IP-Adresse könnte 91.198.174.2 sein. In diesem Beispiel kennt keiner der internen Router die Route zu diesem Host, so dass sie das Paket über das Gateway oder die Standardroute der Router1 weiterleiten. Jeder Router auf dem Weg des Pakets zum Ziel wird überprüfen, ob die Ziel-IP-Adresse des Pakets auf bekannte Netzwerkrouten übereinstimmt. Wenn ein Router ein Spiel findet, wird es das Paket über diese Route weiterleiten; wenn nicht, wird es das Paket an ein eigenes Standard-Gateway senden. Jeder auf dem Weg begegnete Router speichert die Paket-ID und woher es kam, so dass es das Antwortpaket wieder an den Absender übergeben kann. Das Paket enthält Quelle und Ziel, nicht alle Router Hops. Letztendlich wird das Paket zurück zum Router1 gelangen, der die Paket-ID anpasst und es entsprechend durch Router2 oder Router3 oder direkt an PC1 (die im gleichen Netzwerksegment wie router1) angeschlossen wurde) führt. Das Paket kehrt nicht zurück Wenn Router1 Routing-Tisch keine Route zu 192.168.1.0/24 hat und PC3 versucht, eine Ressource außerhalb seines eigenen Netzwerks zuzugreifen, dann funktioniert die ausgehende Routing bis die Antwort an router1 zurückgegeben wird. Da die Route dem Router1 nicht bekannt ist, wird sie zum Standard-Gateway von router1 gehen und niemals Router3 erreichen. In den Logs der Ressource werden sie die Anfrage verfolgen, aber der Requestor wird nie Informationen erhalten. Das Paket wird sterben, weil der TTL-Wert auf weniger als 1 verringert wurde, wenn es durch die Router ging, oder der Router wird sehen, dass es eine private IP hat und es verworfen. Dies könnte durch die Verwendung des Microsoft Windows-Dienstprogramms PathPing oder MTR auf Unix-ähnlichen Betriebssystemen entdeckt werden, da das Ping an dem Router stoppen wird, der keine Route oder eine falsche Route hat.( Beachten Sie, dass einige Router nicht auf Pinging antworten.) Utilities Verschiedene Dienstprogramme können das Standard-Gateway anzeigen. Unter Windows kann ipconfig verwendet werden, während auf Unix-Systeme, ifconfig oder netstat verwendet werden kann. Auf Linux netstat wurde von iproute2 überholt. Referenzen Externe Links Das Linux Dokumentationsprojekt