Das Media Gateway Control Protocol (MGCP) ist ein Signalisierungs- und Call-Control-Kommunikationsprotokoll, das in Voice over IP (VoIP) Telekommunikationssystemen verwendet wird. Es implementiert die Medien-Gateway-Steuerungsprotokoll-Architektur zur Steuerung von Medien-Gateways, die mit dem öffentlichen Telefonnetz (PSTN) verbunden sind. Die Medien-Gateways bieten Umwandlung von traditionellen elektronischen Medien in das Internet Protocol (IP)-Netzwerk. Das Protokoll ist ein Nachfolger des von Bellcore und Cisco entwickelten Simple Gateway Control Protocol (SGCP) und der Internet Protocol Device Control (IPDC). Die Methodik von MGCP spiegelt die Struktur des PSTN mit der Leistung des Netzwerks, das in einem Call Control Center Softswitch liegt, die analog der Zentrale im Telefonnetz ist. Die Endpunkte sind Low-Intelligence-Geräte, die meist Steuerbefehle von einem Call Agent oder Media Gateway-Controller im Softswitch ausführen und Ergebnisindikationen liefern. Das Protokoll stellt eine Zersetzung anderer VoIP-Modelle dar, wie z.B. H.323 und das Session Initiation Protocol (SIP), in dem die Endpoint-Geräte eines Anrufs höhere Signalisierungs-Geheimnisse aufweisen. MGCP ist ein textbasiertes Protokoll, das aus Befehlen und Antworten besteht. Es verwendet das Session Description Protocol (SDP) zur Angabe und Aushandlung der in einer Call-Session zu übertragenden Medienströme und des Echtzeit-Transportprotokolls (RTP) zur Einrahmung der Medienströme. Architektur Die Media Gateway Control Protocol Architektur und ihre Methoden und Programmierschnittstellen sind in RFC 2805 beschrieben. MGCP ist ein Master-Slave-Protokoll, in dem Mediengateways (MGs) von einem Call Control Agent oder Softswitch gesteuert werden. Dieser Controller wird als Media Gateway Controller (MGC) oder Call Agent (CA) bezeichnet. Mit dem Netzwerkprotokoll kann es jeden bestimmten Port auf einem Media Gateway steuern. Dies erleichtert die zentralisierte Gateway-Administration und bietet skalierbare IP-Telefonielösungen. Das verteilte System besteht aus mindestens einem Call-Agent und einem oder in der Regel mehreren Medien-Gateways, die die Umwandlung von Mediensignalen zwischen schaltungs- und paketvermittelten Netzwerken und mindestens einem Signalisierungs-Gateway (SG) bei Verbindung mit dem PSTN durchführt. MGCP präsentiert eine Call-Control-Architektur mit begrenzter Intelligenz am Rand (Endpunkte, Mediengateways) und Intelligenz an den Kerncontrollern. Das MGCP-Modell nimmt an, dass Call-Agenten miteinander synchronisieren, um kohärente Befehle und Antworten auf die Gateways unter ihrer Kontrolle zu senden. Der Call-Agent verwendet MGCP, um Ereignismeldungen, Berichte, Status- und Konfigurationsdaten aus dem Media-Gateway anzufordern, sowie Verbindungsparameter und Aktivierung von Signalen zur PSTN-Telefonie-Schnittstelle anzugeben. Ein Softswitch wird typischerweise in Verbindung mit Signalisierungs-Gateways verwendet, beispielsweise für den Zugriff auf die Signalling System Nr. 7(SS7)-Funktionalität. Der Call-Agent verwendet MGCP nicht, um ein Signalisierungs-Gateway zu steuern; vielmehr werden SIGTRAN-Protokolle verwendet, um die Signalisierung zwischen einem Signalisierungs-Gateway und den Call-Agenten zu unterstützen. Mehrere Anrufer Typischerweise kann ein Mediengateway mit einer Liste von Call-Agenten konfiguriert werden, aus denen es Steuerbefehle annehmen kann. Grundsätzlich können Ereignismeldungen für jeden Endpunkt auf dem Gateway an unterschiedliche Call Agenten gesendet werden, entsprechend den Anweisungen, die von den Call Agenten erhalten werden, indem der NotifiedEntity-Parameter gesetzt wird. In der Praxis ist es jedoch in der Regel wünschenswert, dass alle Endpunkte eines Gateways von demselben Call-Agent gesteuert werden; andere Call-Agenten stehen zur Verfügung, um Redundanz bei Ausfall des primären Call-Agenten oder Verlusten des Kontakts mit dem Media-Gateway bereitzustellen. Im Falle eines solchen Ausfalls ist es die Verantwortung des Backup-Call Agenten, das Media-Gateway neu zu konfigurieren, so dass es dem Backup-Call Agent meldet. Das Gateway kann geprüft werden, um den Controlling Call Agent, eine Abfrage, die verwendet werden kann, um Konflikte zu lösen. Bei mehreren Call-Agenten geht MGCP davon aus, dass sie die Kenntnis des Gerätezustandes unter sich behalten. Solche Failover-Funktionen berücksichtigen sowohl geplante als auch nicht geplante Ausfälle. Protokollübersicht MGCP erkennt drei wesentliche Elemente der Kommunikation, den Media Gateway Controller (Call Agent), den Media Gateway Endpoint und Verbindungen zwischen diesen Einheiten. Ein Medien-Gateway kann mehrere Endpunkte hosten und jeder Endpunkt sollte in der Lage sein, in mehrere Verbindungen einzugreifen. Mehrere Verbindungen an den Endpunkten unterstützen Calling-Funktionen wie Call-Warte und Drei-Wege-Anruf.MGCP ist ein textbasiertes Protokoll mit einem Befehls- und Antwortmodell. Befehle und Antworten werden in Nachrichten codiert, die strukturiert und formatiert sind mit den Whitespace-Zeichen Raum, horizontale Registerkarte, Wagenrückgabe, Linefeed, Kolon und volle Haltestelle. Nachrichten werden über das User Datagram Protocol (UDP) übertragen. Medien-Gateways verwenden die Portnummer 2427, und Call-Agenten verwenden 2727 standardmäßig. Die Nachrichtenfolge des Befehls (oder der Anforderung) und dessen Antwort ist als Transaktion bekannt, die durch den in jeder Transaktion ausgetauschten numerischen Transaktionskenner identifiziert wird. Die Protokollvorschrift definiert neun Standardbefehle, die sich durch ein Vierbucherkommandover auszeichnen: AUEP, AUCX, CRCX, DLCX, EPCF, MDCX, NTFY, RQNT und RSIP. Antworten beginnen mit einem dreistelligen numerischen Antwortcode, der das Ergebnis oder Ergebnis der Transaktion identifiziert. Zwei Verben werden von einem Call Agent verwendet, um den Zustand eines Endpunktes und dessen zugehörigen Verbindungen abzufragen. AUEP: Audit Endpoint AUCX: Audit Connection Drei Verben werden von einem Call Agent verwendet, um die Verbindung zu einem Media Gateway Endpoint zu verwalten. CRCX:Create Connection DLCX: Connection löschen. Dieser Befehl kann auch von einem Endpunkt ausgegeben werden, um eine Verbindung zu beenden. MDCX:Modify Connection. Dieser Befehl dient dazu, die Betriebseigenschaften der Verbindung zu ändern, z.B. Sprachgeber, Muting, halbduplex/full-duplex Zustand und andere. Ein Verb wird von einem Call-Agent verwendet, um die Benachrichtigung der am Endpunkt auftretenden Ereignisse zu verlangen und Signale an die angeschlossene PSTN-Netzwerkverbindung oder an einen angeschlossenen Telefonieendpunkt, z.B. ein Telefon, zu übertragen. RQNT: Auskunftsersuchen Ein Verb wird von einem Endpunkt verwendet, um dem Call-Agenten anzuzeigen, dass es ein Ereignis erkannt hat, für das der Call-Agent zuvor eine Benachrichtigung mit dem RQNT-Befehl angefordert hatte: NTFY: Benachrichtigung Ein Verb wird von einem Call Agent verwendet, um die von der Zeilenseite des Endpunktes erwarteten Kodierungseigenschaften zu modifizieren: EPCF: Endpunktkonfiguration Ein Verb wird von einem Endpunkt verwendet, um dem Call-Agenten anzuzeigen, dass es im Prozess des Neustarts ist: RSIP: Neustart Dokumente der Fortschrittsnormen RFC 3435 - Media Gateway Control Protocol (MGCP) Version 1.0 (dies ersetzt RFC 2705)RFC 3660 - Basic Media Gateway Control Protocol (MGCP)Packages (informational) RFC 3661 - Media Gateway Control Protocol (MGCP)Return Code Nutzung RFC 3064 - MGCP CAS Pakete RFC 3149 - MGCP Business Phone Pakete RFC 3991 - Media Gateway Control Protocol (MGCP) Redirect and Reset Package RFC 3992 - Media Gateway Control Protocol (MGCP)Lockstep State Reporting Mechanism (informational) RFC 2805 - Media Gateway Control Protocol Architektur und Anforderungen RFC 2897 - Vorschlag für ein MGCP Advanced Audio Package MegacoEine weitere Implementierung der Medien-Gateway-Kontrollprotokoll-Architektur ist das H.248/Megaco Protokoll, eine Zusammenarbeit der Internet Engineering Task Force (RFC 3525) und der Internationalen Telekommunikationsunion (Recommendation H.248.1). Beide Protokolle folgen den in RFC 2805 beschriebenen Leitlinien der übergeordneten Media Gateway Control Protocol Architektur. Die Protokolle sind jedoch aufgrund von Unterschieden in Protokollsyntax und zugrunde liegendem Verbindungsmodell unvereinbar. Siehe auch RTP-Audio-Videoprofil Referenzen Externe Links MGCP Information Site Informationen im Zusammenhang mit MGCP H.248 Informationen Site Informationen im Zusammenhang mit H.248/Megaco, einschließlich Hinweise auf Normen und Spezifikationen