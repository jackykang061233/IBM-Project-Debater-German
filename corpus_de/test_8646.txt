Internet Protocol Version 6 (IPv6) ist die jüngste Version des Internet Protocol (IP), das Kommunikationsprotokoll, das ein Identifikations- und Standortsystem für Computer in Netzwerken und Strecken Verkehr über das Internet bietet. IPv6 wurde von der Internet Engineering Task Force (IETF) entwickelt, um mit dem lang erwarteten Problem der IPv4-Adressenerschöpfung umzugehen. IPv6 soll IPv4 ersetzen.Im Dezember 1998 wurde IPv6 zum Entwurfsstandard für den IETF, der ihn am 14. Juli 2017 als Internet-Standard ratifizierte. Geräte im Internet werden eine einzigartige IP-Adresse zur Identifizierung und Ortsdefinition zugeordnet. Mit dem rasanten Wachstum des Internets nach der Kommerzialisierung in den 1990er Jahren wurde deutlich, dass viel mehr Adressen benötigt werden, um Geräte zu verbinden, als der IPv4-Adressenraum zur Verfügung stand. Bis 1998 hatte der IETF das Nachfolgeprotokoll formalisiert. IPv6 verwendet eine 128-Bit-Adresse, die theoretisch 2128 oder etwa 3,4 x 1038 Adressen erlaubt. Die tatsächliche Anzahl ist etwas kleiner, da mehrere Bereiche für den speziellen Einsatz reserviert oder vollständig vom Gebrauch ausgeschlossen sind. Die beiden Protokolle sind nicht interoperabel ausgebildet, und somit ist eine direkte Kommunikation zwischen ihnen unmöglich, wodurch der Übergang zu IPv6 erschwert wird. Es wurden jedoch mehrere Übergangsmechanismen entwickelt, um diese zu korrigieren. IPv6 bietet neben einem größeren Adressierungsraum weitere technische Vorteile. Sie erlaubt insbesondere hierarchische Adresszuweisungsmethoden, die die Routenzuordnung über das Internet erleichtern und so die Erweiterung von Routing-Tabellen begrenzen. Die Nutzung der Multicast-Adressierung wird erweitert und vereinfacht und bietet zusätzliche Optimierungen für die Erbringung von Dienstleistungen. Bei der Konstruktion des Protokolls wurden die Aspekte Gerätemobilität, Sicherheit und Konfiguration berücksichtigt. IPv6-Adressen sind als acht Gruppen dargestellt, getrennt von Kolonen, von vier hexadezimalen Ziffern. Die vollständige Darstellung kann gekürzt werden; zum Beispiel 2001:0db8:0000:0000:0000:8a2e:0370:7334 wird 2001:db8::8a2e:370:7334. Hauptmerkmale IPv6 ist ein Internet-Layer-Protokoll zur paketvermittelten Internetbearbeitung und bietet eine end-to-end-Datenübertragung über mehrere IP-Netzwerke, die eng an den in der vorherigen Version des Protokolls entwickelten Designprinzipien, Internet Protocol Version 4 (IPv4) anhaften. Zusätzlich zu mehr Adressen bietet IPv6 auch Funktionen, die nicht in IPv4 vorhanden sind. Es vereinfacht Aspekte der Adresskonfiguration, der Netzumnummerierung und der Router-Ankündigungen beim Wechsel von Netzwerk-Konnektivitätsanbietern. Es vereinfacht die Verarbeitung von Paketen in Routern, indem die Verantwortung für die Paketfragmentierung in die Endpunkte gelegt wird. Die IPv6-Subnetzgröße wird standardisiert, indem die Größe des Host-Identifier-Teils einer Adresse auf 64 Bit festgelegt wird. Die Adressierungsarchitektur von IPv6 ist in RFC 4291 definiert und ermöglicht drei verschiedene Arten der Übertragung: unicast, anycast und multicast. Motivation und OriginIPv4 Adresse Erschöpfung Internet Protocol Version 4 (IPv4) war die erste öffentlich genutzte Version des Internet Protocol. IPv4 wurde als Forschungsprojekt von der Defense Advanced Research Projects Agency (DARPA) einer United States Department of Defense Agency entwickelt, bevor sie die Grundlage für das Internet und das World Wide Web.IPv4 ist ein Adressierungssystem, das numerische Kennungen verwendet, die aus 32 Bits bestehen. Diese Adressen werden typischerweise in dot-dezimaler Notation als Dezimalwerte von vier Oktetts, jeweils im Bereich von 0 bis 255 oder 8 Bit pro Zahl angezeigt. Somit bietet IPv4 eine Adressierfähigkeit von 232 oder etwa 4,3 Milliarden Adressen. Die Adressausschöpfung war in IPv4 zunächst nicht beunruhigt, da diese Version ursprünglich als Test der Netzwerkkonzepte von DARPA angenommen wurde. In den ersten zehn Jahren der Nutzung des Internets wurde deutlich, dass Methoden entwickelt werden mussten, um Adressraum zu erhalten. In den frühen 1990er Jahren, auch nach der Neugestaltung des Adressierungssystems mit einem klassenlosen Netzwerkmodell, wurde deutlich, dass dies nicht ausreichen würde, um IPv4-Adressenerschöpfung zu verhindern, und dass weitere Änderungen der Internetinfrastruktur erforderlich waren. Die letzten nicht zugewiesenen Top-Level-Adressenblöcke von 16 Millionen IPv4-Adressen wurden im Februar 2011 von der Internet Assigned Numbers Authority (IANA) an die fünf regionalen Internet-Register (RIRs) vergeben. Allerdings hat jeder RIR noch Adresspools zur Verfügung und wird voraussichtlich bis zu einem /8 Classless Inter-Domain Routing (CIDR)-Block weiterhin mit Standard-Adresszuweisungsrichtlinien fortfahren. Danach werden nur Blöcke von 1.024 Adressen /(22) von den RIRs zu einer lokalen Internet-Registrierung (LIR) bereitgestellt. Seit September 2015 haben das gesamte Asia-Pacific Network Information Centre (APNIC), das Réseaux IP Européens Network Coordination Centre (RIPE_NCC,) Latin America and Caribbean Network Information Centre (LACNIC) und das American Registry for Internet Numbers (ARIN) diese Etappe erreicht. Das ist das African Network Information Center (AFRINIC) als einzige regionale Internet-Registrierung, die noch immer das normale Protokoll zur Verteilung von IPv4-Adressen verwendet. Ab November 2018 beträgt die Mindestzuweisung von AFRINIC /22 oder 1024 IPv4 Adressen. Ein LIR kann zusätzliche Zuordnung erhalten, wenn etwa 80% des gesamten Adressraums genutzt wurden. RIPE NCC kündigte an, dass es am 25. November 2019 vollständig aus IPv4-Adressen ausgelaufen sei und forderte größere Fortschritte bei der Annahme von IPv6. Es wird allgemein erwartet, dass das Internet IPv4 neben IPv6 für die vorhersehbare Zukunft nutzen wird. Vergleich mit IPv4 Im Internet werden Daten in Form von Netzwerkpaketen übertragen. IPv6 gibt ein neues Paketformat an, das darauf ausgelegt ist, die Paketkopfverarbeitung durch Router zu minimieren. Da die Header von IPv4-Paketen und IPv6-Paketen deutlich unterschiedlich sind, sind die beiden Protokolle nicht interoperabel. Allerdings benötigen die meisten Transport- und Anwendungsschichtprotokolle wenig oder keine Änderung über IPv6; Ausnahmen sind Anwendungsprotokolle, die Internet-Schicht-Adressen einbetten, wie File Transfer Protocol (FTP) und Network Time Protocol (NTP), wo das neue Adressformat Konflikte mit der bestehenden Protokollsyntax verursachen kann. Großer Adressraum Der Hauptvorteil von IPv6 gegenüber IPv4 ist sein größerer Adressraum. Die Größe einer IPv6-Adresse beträgt 128 Bit, verglichen mit 32 Bits im IPv4. Der Adressraum hat daher 2128 = 340,282,366,920,938,463,463,374,607,431,768,211,456 Adressen (ungefähr 3,4 x 1038). Einige Blöcke dieses Raumes und einige bestimmte Adressen sind für besondere Anwendungen reserviert. Während dieser Adressraum sehr groß ist, war es nicht die Absicht der Designer von IPv6, geographische Sättigung mit nutzbaren Adressen zu gewährleisten. Vielmehr vereinfachen die längeren Adressen die Zuordnung von Adressen, ermöglichen eine effiziente Routenaggregation und ermöglichen die Implementierung von speziellen Adressierungsfunktionen. In IPv4 wurden komplexe Classless Inter-Domain Routing (CIDR) Methoden entwickelt, um den kleinen Adressraum optimal zu nutzen. Die Standardgröße eines Subnetzes in IPv6 beträgt 264 Adressen, etwa vier Milliarden Mal die Größe des gesamten IPv4-Adressenraums. So wird die tatsächliche Adressraumauslastung in IPv6 gering sein, aber die Netzmanagement- und Routing-Effizienz wird durch die große Subnetz- und hierarchische Routenaggregation verbessert. Multicasting Multicasting, die Übertragung eines Pakets an mehrere Ziele in einem einzigen Sendebetrieb, ist Teil der Basisspezifikation in IPv6. In IPv4 ist dies ein optionales (wenn auch allgemein implementiertes) Feature. IPv6-Multicast-Adressierung hat Funktionen und Protokolle gemeinsam mit IPv4-Multicast, bietet aber auch Änderungen und Verbesserungen durch die Beseitigung der Notwendigkeit bestimmter Protokolle. IPv6 implementiert keine traditionelle IP-Übertragung, d.h. die Übertragung eines Pakets an alle Hosts auf dem angeschlossenen Link mit einer speziellen Sendeadresse und definiert daher keine Rundfunkadressen. In IPv6 wird das gleiche Ergebnis erreicht, indem ein Paket an die link-lokale alle Knoten Multicast-Gruppe an der Adresse ff02::1 gesendet wird, was analog zu IPv4 Multicasting an die Adresse 224.0.0.1. IPv6 bietet auch neue Multicast-Implementierungen, darunter die Einbettung von rendezvous Point-Adressen in eine IPv6-Multicast-Gruppenadresse, die die Bereitstellung von interdomain-Lösungen vereinfacht. In IPv4 ist es für eine Organisation sehr schwierig, sogar eine weltweit routable Multicast-Gruppenzuweisung zu erhalten, und die Implementierung von Inter-Domain-Lösungen ist arcane. Unicast-Adressenzuweisungen durch eine lokale Internet-Registrierung für IPv6 haben mindestens ein 64-Bit-Routing-Präfix, was die kleinste Subnetgröße in IPv6 (auch 64 Bit) liefert. Mit einer solchen Zuordnung ist es möglich, das Unicast-Adressen-Präfix in das IPv6-Multicast-Adressenformat einzubetten, während noch ein 32-Bit-Block, die geringsten Bits der Adresse, oder etwa 4,2 Milliarden Multicast-Gruppen-Identifier zur Verfügung gestellt werden. Somit steht jedem Benutzer eines IPv6-Subnets automatisch ein Set global routable source-spezifische Multicast-Gruppen für Multicast-Anwendungen zur Verfügung. Stateless Address autoconfiguration (SLAAC) IPv6 Hosts konfigurieren sich automatisch. Jede Schnittstelle verfügt über eine selbst generierte Link-Lokal-Adresse und wird, wenn sie mit einem Netzwerk verbunden ist, Konfliktlösung durchgeführt und Router über Router-Werbungen Netzwerk-Präfixe bereitstellen. Eine Stateless-Konfiguration von Routern kann mit einem speziellen Router-Renumbering-Protokoll erreicht werden. Bei Bedarf können Hosts zusätzliche Stateful-Adressen über Dynamic Host Configuration Protocol Version 6 (DHCPv6) oder statische Adressen manuell konfigurieren. Wie IPv4 unterstützt IPv6 weltweit einzigartige IP-Adressen. Das Design von IPv6 soll das End-to-End-Prinzip des Netzwerkdesigns neu definieren, das ursprünglich während der Einrichtung des frühen Internets durch die Überarbeitung von Netzwerkadressen überholt wurde. Daher ist jedes Gerät im Netzwerk global adressierbar direkt von jedem anderen Gerät. Eine stabile, einzigartige, global adressierbare IP-Adresse würde das Tracking eines Gerätes über Netzwerke erleichtern. Daher sind solche Adressen ein besonderes Datenschutzproblem für mobile Geräte wie Laptops und Handys. Um diese Datenschutzbedenken zu adressieren, enthält das SLAAC-Protokoll, was in der Regel als "Privacy-Adressen" oder, genauer gesagt, "temporäre Adressen", kodifiziert in RFC 4941, "Privacy Extensions for Stateless Address Autoconfiguration in IPv6". Temporäre Adressen sind zufällig und instabil. Ein typisches Verbrauchergerät erzeugt täglich eine neue temporäre Adresse und ignoriert den an eine alte Adresse adressierten Verkehr nach einer Woche. Temporäre Adressen werden standardmäßig von Windows seit XP SP1, macOS seit (Mac OS X) 10.7, Android seit 4.0 und iOS seit Version 4.3 verwendet. Die Verwendung temporärer Adressen durch Linux-Distributionen variiert. Das Umnummerieren eines bestehenden Netzwerks für einen neuen Konnektivitätsanbieter mit unterschiedlichen Routing-Präfixen ist ein großer Aufwand mit IPv4. Bei IPv6 kann jedoch eine Änderung des von einigen Routern angekündigten Präfixes grundsätzlich ein ganzes Netzwerk umnummeriert werden, da die Host-Identifier (die am wenigsten bekannten 64 Bit einer Adresse) von einem Host unabhängig selbst konfiguriert werden können. Das SLAAC-Adressenerzeugungsverfahren ist implementierungsabhängig. IETF empfiehlt, dass Adressen deterministisch, aber semantisch opak sind. IPsec Internet Protocol Security (IPsec) wurde ursprünglich für IPv6 entwickelt, fand aber eine weit verbreitete Bereitstellung zuerst in IPv4, für die es neu entwickelt wurde. IPsec war ein obligatorischer Teil aller IPv6-Protokoll-Implementierungen, und Internet Key Exchange (IKE) wurde empfohlen, aber mit RFC 6434 wurde die Einbeziehung von IPsec in IPv6-Implementierungen auf eine Empfehlung reduziert, weil es als unpraktisch betrachtet wurde, vollständige IPsec-Implementierung für alle Arten von Geräten zu verlangen, die IPv6 verwenden können. Allerdings müssen gemäß RFC 4301 IPv6-Protokoll-Implementierungen, die IPsec implementieren, IKEv2 implementieren und einen minimalen Satz kryptografischer Algorithmen unterstützen. Diese Anforderung wird dazu beitragen, IPsec-Implementierungen zwischen Geräten verschiedener Anbieter interoperabel zu machen. Der IPsec Authentication Header (AH) und der Encapsulating Security Payload Header (ESP) werden als IPv6-Erweiterungs-Header implementiert. Vereinfachte Verarbeitung durch Router Der Paketkopf in IPv6 ist einfacher als der IPv4-Header. Viele selten verwendete Felder wurden in optionale Header-Erweiterungen verschoben. Mit dem vereinfachten IPv6-Paket-Header wurde der Prozess der Paketweiterleitung durch Router vereinfacht. Obwohl IPv6-Paket-Header mindestens doppelt so groß sind wie IPv4-Paket-Header, kann die Verarbeitung von Paketen, die nur den Basis-IPv6-Header von Routern enthalten, in einigen Fällen effizienter sein, weil weniger Verarbeitung in Routern erforderlich ist, da die Header auf gemeinsame Wortgrößen ausgerichtet sind. Viele Geräte implementieren jedoch IPv6-Unterstützung in Software (im Gegensatz zu Hardware), was zu einer sehr schlechten Paketverarbeitungsleistung führt. Darüber hinaus verursacht die Verwendung von Extension Headers bei vielen Implementierungen die Verarbeitung von Paketen durch die CPU eines Routers, was zu schlechten Performance- oder sogar Sicherheitsproblemen führt. Außerdem enthält ein IPv6-Header keine Prüfsumme. Die IPv4-Header-Prüfsumme wird für den IPv4-Header berechnet und muss jedes Mal mit Routern neu berechnet werden, wenn die Lebenszeit (im IPv6-Protokoll als Hop-Grenzwert bezeichnet) um eins reduziert wird. Das Fehlen einer Prüfsumme im IPv6-Header erweitert das End-to-End-Prinzip des Internetdesigns, das vorsah, dass die meisten Verarbeitungen im Netzwerk in den Blattknoten erfolgt. Integritätsschutz für die im IPv6-Paket eingekapselten Daten wird angenommen, dass sowohl die Linkschicht als auch die Fehlererkennung in höherschichtigen Protokollen, nämlich das Transmission Control Protocol (TCP) und das User Datagram Protocol (UDP) auf der Transportschicht, gewährleistet ist. Während IPv4 es UDP-Datengramm-Header erlaubte, keine Prüfsumme zu haben (im Headerfeld mit 0 bezeichnet), benötigt IPv6 eine Prüfsumme in UDP-Headern. IPv6-Router führen keine IP-Fragmentierung durch. IPv6-Hosts sind entweder zur Durchführung der Pfad-MTU-Erkennung, zur Durchführung einer End-to-End-Fragmentierung erforderlich oder senden Pakete nicht größer als die Standard-Maximalübertragungseinheit (MTU), die 1280 Oktette ist. Mobilität Im Gegensatz zu mobilem IPv4 vermeidet mobile IPv6 ein dreieckiges Routing und ist daher ebenso effizient wie native IPv6. IPv6-Router können auch ganze Subnetze ohne Umnummerierung zu einem neuen Router-Anschlusspunkt bewegen. Verlängerungskopf Der IPv6-Paketkopf hat eine Mindestgröße von 40 Oktetten (320 Bit). Optionen werden als Erweiterungen implementiert. Dies bietet die Möglichkeit, das Protokoll in Zukunft zu erweitern, ohne die Kernpaketstruktur zu beeinflussen. RFC 7872 stellt jedoch fest, dass einige Netzbetreiber IPv6-Pakete mit Erweiterungs-Headern fallen, wenn sie Transit-autonome Systeme durchlaufen. Jumbograms IPv4 begrenzt Pakete auf 65,535 (216-1) Oktette der Nutzlast. Über diese Grenze kann optional ein IPv6-Knoten Pakete, sogenannte Jumbogramme, behandeln, die so groß sein können wie 4,294,967,295 (232-1) Oktette. Die Verwendung von Jumbogrammen kann die Leistung gegenüber High-MTU-Links verbessern. Die Verwendung von Jumbogrammen wird durch den Jumbo Payload Option Erweiterung Header angezeigt. IPv6 Pakete Ein IPv6 Paket hat zwei Teile: ein Header und Payload. Der Header besteht aus einem festen Teil mit minimaler Funktionalität, die für alle Pakete benötigt wird und optionale Erweiterungen zur Realisierung besonderer Features folgen können. Der feste Header nimmt die ersten 40 Oktette (320 Bit) des IPv6-Pakets ein. Es enthält die Quell- und Zieladressen, Verkehrsklasse, Hopfenzahl und die Art der optionalen Erweiterung oder Nutzlast, die dem Header folgt. Der nächste Das Header-Feld sagt dem Empfänger, wie die Daten zu interpretieren, die dem Header folgen. Wenn das Paket Optionen enthält, enthält dieses Feld den Optionstyp der nächsten Option. Das Feld "Nächstes Header" der letzten Option weist auf das in der Nutzlast des Pakets getragene Oberschichtprotokoll hin. Die aktuelle Nutzung des IPv6 Traffic Class Feldes teilt dies zwischen einem 6 Bit Differenzierten Services Code Point und einem 2-Bit Explicit Congestion Notification Feld. Erweiterungs-Header haben Optionen, die für eine spezielle Behandlung eines Pakets im Netzwerk verwendet werden, z.B. für Routing, Fragmentierung und für die Sicherheit mit dem IPsec-Rahmen. Ohne besondere Optionen muss eine Nutzlast kleiner als 64kB sein. Mit einer Jumbo-Payload-Option (in einem Hop-By-Hop-Options-Erweiterungs-Header), muss die Nutzlast kleiner als 4 GB sein. Im Gegensatz zu IPv4 fragmentieren Router nie ein Paket. Hosts werden voraussichtlich Path MTU nutzen Entdecke, um ihre Pakete klein genug zu machen, um das Ziel zu erreichen, ohne zu fragmentieren. Siehe IPv6 Paketfragmentierung. Die Adressierung von IPv6-Adressen hat 128 Bit. Das Design des IPv6-Adressenraums implementiert eine andere Designphilosophie als in IPv4, in der Subnetting verwendet wurde, um die Effizienz der Nutzung des kleinen Adressraums zu verbessern. In IPv6 gilt der Adressraum als groß genug für die vorhersehbare Zukunft, und ein lokales Flächensubnet verwendet immer 64 Bit für den Hostteil der Adresse, als Interface-Identifier bezeichnet, während die bedeutendsten 64 Bits als Routing-Prefix verwendet werden. Während der Mythos in Bezug auf IPv6-Subnetze existierte, die nicht scannen können, bemerkt RFC 7707, dass Muster, die aus einigen IPv6-Adressenkonfigurationstechniken und Algorithmen resultieren, das Adressscannen in vielen realen Szenarien ermöglichen. Anschrift Die 128 Bit einer IPv6-Adresse sind in 8 Gruppen von je 16 Bit dargestellt. Jede Gruppe wird als vier hexadezimale Ziffern geschrieben (manchmal Hextets oder mehr formal Hexadectets und informell ein Quibble oder Quad-Nibble genannt) und die Gruppen durch Kolonen getrennt.)(:Ein Beispiel dieser Darstellung ist 2001:0db8:0000:0000:ff00:0042:8329. Zur Bequemlichkeit und Klarheit kann die Darstellung einer IPv6-Adresse mit folgenden Regeln verkürzt werden. Eine oder mehrere führende Nullen aus jeder Gruppe von hexadezimalen Ziffern werden entfernt, was in der Regel allen führenden Nullen geschieht. Beispielsweise wird die Gruppe 0042 in 42 umgewandelt. Konsequenzielle Abschnitte von Nullen werden durch zwei Kolonen ersetzt.)(: Dies kann nur einmal in einer Adresse verwendet werden, da eine Mehrfachverwendung die Adresse unbestimmt macht. RFC 5952 erfordert, dass ein Doppelkolon nicht verwendet wird, um einen weggelassenen Einzelabschnitt von Nullen zu bezeichnen. Ein Beispiel für die Anwendung dieser Regeln: Anfangsadresse: 2001:0db8:0000:0000:0000:ff00:0042:8329. Nach Entfernen aller führenden Nullen in jeder Gruppe: 2001:db8:0:0:0:0:ff00:42:8329. Nach dem Ausgeben von aufeinanderfolgenden Abschnitten von Nullen: 2001:db8::ff00:42:8329. Die Loopback-Adresse 0000:0000:0000:0000:0000:0000:0000:0000:0001 ist in RFC 5156 definiert und wird mit beiden Regeln auf :1 verkürzt. Da eine IPv6-Adresse mehr als eine Darstellung haben kann, hat der IETF einen vorgeschlagenen Standard zur Darstellung in Texten herausgegeben. Da IPv6-Adressen Kolonen enthalten und URLs Kolonen verwenden, um den Host von der Portnummer zu trennen, gibt RFC2732 an, dass eine IPv6-Adresse, die als Host-Teil einer URL verwendet wird, in quadratischen Klammern eingeschlossen werden sollte, z.B. http://[2001:db8:4006:812::::200e] oder http://[2001:db8:4006:812:::::200e]:80/path. Link-lokale Adresse Alle Schnittstellen von IPv6-Hosts benötigen eine Link-Local-Adresse. IPv6 link-local Adressen haben das Präfix fe80::/10. Dieses Präfix wird mit einem 64-Bit-Suffix kombiniert, den der Host selbst berechnen und/oder zuordnen kann - ohne Konfiguration und ohne das Vorhandensein oder Zusammenwirken einer externen Netzwerkkomponente wie ein DHCP-Server. Die unteren 64 Bit der Link-Local-Adresse (das Suffix) wurden ursprünglich von der MAC-Adresse der darunterliegenden Netzwerk-Schnittstellenkarte abgeleitet. Da diese Methode der Zuordnung von Adressen unerwünschte Adressänderungen verursachen würde, wenn fehlerhafte Netzwerkkarten ersetzt wurden, und da sie auch unter einer Reihe von Sicherheits- und Datenschutzproblemen litt, hat RFC 8064 die ursprüngliche MAC-basierte Methode durch die in RFC 7217 angegebene Hash-basierte Methode ersetzt. Adresse Einzigartigkeit und Router-Solicitation IPv6 verwendet einen neuen Mechanismus zur Kartierung von IP-Adressen an Link-Layer-Adressen (MAC-Adressen), da er nicht die Broadcast-Adressing-Methode unterstützt, auf der die Funktionalität des Address Resolution Protocol (ARP) in IPv4 basiert. IPv6 implementiert das Neighbor Discovery Protocol (NDP, ND) in der Linkschicht, die auf ICMPv6 und Multicast Übertragung basiert.IPv6-Hosts verifizieren die Einzigartigkeit ihrer IPv6-Adressen in einem lokalen Netzwerk (LAN) durch Senden einer benachbarten Aufforderungsnachricht, die die Link-Layer-Adresse der IP-Adresse fordert. Wenn ein anderer Host im LAN diese Adresse nutzt, reagiert er. Ein Host, der eine neue IPv6-Schnittstelle herstellt, erzeugt zunächst eine einzigartige Link-Local-Adresse mit einem von mehreren Mechanismen, um eine einzigartige Adresse zu erzeugen. Sollte eine nicht eindeutige Adresse erkannt werden, kann der Host mit einer neu generierten Adresse erneut versuchen. Sobald eine eindeutige Link-Local-Adresse eingerichtet ist, ermittelt der IPv6-Host, ob das LAN auf diesem Link mit einer beliebigen Router-Schnittstelle verbunden ist, die IPv6 unterstützt. Es tut dies, indem Sie eine ICMPv6 Router-Solicitation-Nachricht an die Allrouters-Multicast-Gruppe mit seiner Link-Local-Adresse als Quelle aussenden. Ist nach einer vorgegebenen Anzahl von Versuchen keine Antwort gegeben, kommt der Host zu dem Schluss, dass keine Router angeschlossen sind. Wenn es eine Antwort, die als Router-Werbung bekannt ist, von einem Router erhält, enthält die Antwort die Netzwerkkonfigurationsinformationen, um die Einrichtung einer global einzigartigen Adresse mit einem entsprechenden Unicast-Netzwerk-Prefix zu ermöglichen. Es gibt auch zwei Flag-Bits, die dem Host sagen, ob es DHCP verwenden sollte, um weitere Informationen und Adressen zu erhalten: Das Manage-Bit, das angibt, ob der Host DHCP verwenden soll, um zusätzliche Adressen zu erhalten, anstatt sich auf eine autokonfigurierte Adresse aus der Router-Werbung zu verlassen. Das Andere Bit, das angibt, ob der Host andere Informationen über DHCP erhalten soll. Die andere Information besteht aus einer oder mehreren Vorgabe-Informationsoptionen für die Teilnetze, an denen der Host angeschlossen ist, einer Lebensdauer für das Präfix und zwei Flaggen: On-Link Wenn diese Flagge gesetzt wird, behandelt der Host alle Adressen auf dem bestimmten Subnetz als on-link und sendet Pakete direkt an sie, anstatt sie an einen Router für die Dauer der gegebenen Lebensdauer zu senden. Adresse: Diese Flagge sagt dem Host, eine globale Adresse zu erstellen. Globale Adressierung Das Vergabeverfahren für globale Adressen ist ähnlich wie die lokale Adressen-Konstruktion. Das Präfix wird von Routerwerbungen im Netzwerk geliefert. Mehrere Prefix-Ankündigungen bewirken, dass mehrere Adressen konfiguriert werden. Stateless Address Autoconfiguration (SLAAC) benötigt einen /64 Adressblock, wie in RFC 4291 definiert. Lokale Internet-Register sind mindestens /32 Blöcke zugeordnet, die sie unter nachgeordneten Netzwerken teilen. In der ursprünglichen Empfehlung wurde die Zuordnung eines Teilnetzes /48 zu Endverbraucherstandorten (RFC 3177) angegeben. Dies wurde durch RFC 6177 ersetzt, die "recommends geben Home-Sites deutlich mehr als eine einzelne /64, aber nicht empfehlen, dass jede Home-Site erhalten ein /48 entweder"./56s werden speziell betrachtet. Es bleibt zu sehen, ob ISPs diese Empfehlung ehren. Zum Beispiel erhielten Comcast-Kunden während der ersten Versuche ein einzelnes /64-Netzwerk. IPv6 im Domain Name System Im Domain Name System (DNS) Hostnames werden von AAAA (quad-A)-Ressourcenrekorden auf IPv6-Adressen abgebildet. Für die umgekehrte Auflösung reservierte der IETF die Domain ip6.arpa, wo der Name-Raum hierarchisch durch die 1-stellige hexadezimale Darstellung von Nippeleinheiten (4 Bit) der IPv6-Adresse geteilt ist. Diese Regelung ist in RFC 3596 definiert. Wenn ein Dual-Stack-Host einen DNS-Server abfragt, um einen vollqualifizierten Domänennamen (FQDN) zu beheben, sendet der DNS-Client des Hosts zwei DNS-Anforderungen, eine Abfrage von A-Datensätzen und die anderen abfragenden AAAA-Datensätze. Das Host-Betriebssystem kann vorzugsweise für Adressauswahlregeln RFC 6724 konfiguriert werden. Ein alternativer Datensatztyp wurde in frühen DNS-Implementierungen für IPv6 verwendet, um die Netzumnummerierung zu erleichtern, die A6-Daten für die Zukunftsaussicht und eine Reihe weiterer Innovationen wie Bit-String-Labels und DNAME-Datensätze. Es ist in RFC 2874 und seinen Verweisen definiert (mit weiterer Diskussion der Pro- und Konsequenzen beider Systeme in RFC 3364), wurde aber auf den experimentellen Status (RFC 3363) umgerechnet. Übergangsmechanismen IPv6 ist nicht vorgesehen, IPv4 sofort zu supplantieren. Beide Protokolle werden für einige Zeit gleichzeitig arbeiten. Daher sind IPv6-Übergangsmechanismen erforderlich, um IPv6-Hosts in die Lage zu versetzen, IPv4-Dienste zu erreichen und isolierte IPv6-Hosts und Netzwerke über die IPv4-Infrastruktur zu erreichen. Laut Silvia Hagen ist eine duale Implementierung der IPv4 und IPv6 auf Geräten der einfachste Weg, um auf IPv6 zu wandern. Viele andere Übergangsmechanismen verwenden Tunneling, um IPv6-Verkehr innerhalb von IPv4-Netzen zu verkapseln und umgekehrt. Dies ist eine unvollkommene Lösung, die die maximale Übertragungseinheit (MTU) einer Verbindung reduziert und damit den Pfad MTU Discovery erschwert und die Latenz erhöhen kann. Dual-stack IP-Implementierung Dual-stack IP-Implementierungen bieten komplette IPv4 und IPv6-Protokoll-Stacks im Betriebssystem eines Computers oder Netzwerkgeräts auf der gemeinsamen physikalischen Layer-Implementierung, wie Ethernet. Damit können Dual-Stack-Hosts gleichzeitig an IPv6 und IPv4 Netzwerken teilnehmen. Das Verfahren ist in RFC 4213 definiert. Ein Gerät mit Dual-Stack-Implementierung im Betriebssystem verfügt über eine IPv4- und IPv6-Adresse und kann mit anderen Knoten im LAN oder im Internet entweder IPv4 oder IPv6 kommunizieren. Das Domain Name System (DNS) Protokoll wird von beiden IP-Protokollen verwendet, um vollqualifizierte Domänennamen (FQDN) und IP-Adressen zu lösen, aber Dual Stack erfordert, dass der auflösende DNS-Server beide Arten von Adressen beheben kann. Ein solcher Dual Stack DNS-Server würde IPv4-Adressen in den A-Datensätzen und IPv6-Adressen in den AAAA-Datensätzen halten. Je nach dem Ziel, das behoben werden soll, kann ein DNS-Namensserver eine IPv4- oder IPv6-IP-Adresse oder beides zurückgeben. Ein Standard-Adressauswahlmechanismus oder ein bevorzugtes Protokoll muss entweder auf Hosts oder dem DNS-Server konfiguriert werden. Der IETF hat Happy Eyeballs veröffentlicht, um Dual Stack-Anwendungen zu unterstützen, so dass sie sowohl IPv4 als auch IPv6 verbinden können, aber eine IPv6-Verbindung bevorzugen, wenn sie verfügbar ist. Allerdings muss dual-stack auch auf allen Routern zwischen dem Host und dem Dienst implementiert werden, für den der DNS-Server eine IPv6-Adresse zurückgegeben hat. Dual-Stack-Clients sollten nur konfiguriert werden, um IPv6 zu bevorzugen, wenn das Netzwerk IPv6-Pakete mithilfe der IPv6-Versionen von Routing-Protokollen weiterleiten kann. Wenn Dual Stack-Netzwerk-Protokolle vorhanden sind, kann die Anwendungsschicht auf IPv6 migriert werden. Während Dual-Stack von großen Betriebssystem- und Netzwerk-Gerät-Anbietern unterstützt wird, unterstützen ältere Netzwerk-Hardware und Server IPv6 nicht. ISP-Kunden mit öffentlich-rechtlichen IPv6 Internet-Dienstleistern (ISPs) versorgen ihre Geschäfts- und Privatkunden zunehmend mit öffentlich-rechtlichen IPv6 globalen Unicast-Adressen. Wenn jedoch im lokalen Netzwerk (LAN) IPv4 noch verwendet wird und der ISP nur eine öffentlich zugängliche IPv6 bereitstellen kann, werden die IPv4 LAN-Adressen mit NAT64 in die öffentlich zugängliche IPv6-Adresse übersetzt. Einige ISPs können ihren Kunden keine öffentlich-rechtlichen IPv4- und IPv6-Adressen zur Verfügung stellen und so Dual Stack-Networking unterstützen, da einige ISPs ihren weltweit routable IPv4-Adressenpool ausgeschöpft haben. Inzwischen versuchen ISP-Kunden immer noch IPv4-Webserver und andere Ziele zu erreichen. Ein signifikanter Prozentsatz der ISPs in allen regionalen Internet-Registrierungszonen (RIR) hat IPv6-Adressenraum erhalten. Dazu gehören viele der weltweit größten ISPs und Mobilfunkanbieter wie Verizon Wireless, StarHub Cable, Chubu Telecommunications, Kabel Deutschland, Swisscom, T-Mobile, Internode und Telefonica. Während einige ISPs Kunden immer noch nur IPv4-Adressen zuweisen, stellen viele ISP ihre Kunden nur IPv6 oder Dual Stack IPv4 und IPv6 zu. ISPs berichten, dass der Anteil des IPv6-Verkehrs von Kunden über ihr Netzwerk etwas zwischen 20% und 40,%, aber bis Mitte 2017 IPv6-Verkehr nur noch einen Bruchteil des gesamten Verkehrs an mehreren großen Internet-Wechselpunkten (IXPs) ausmachte. AMS-IX berichtete, dass es 2% ist und SeattleIX 7% berichtete. Eine Umfrage 2017 ergab, dass viele DSL-Kunden, die von einem Dual Stack ISP bedient wurden, DNS-Server nicht anforderten, vollständig qualifizierte Domainnamen in IPv6-Adressen zu lösen. Die Umfrage ergab auch, dass die meisten Traffic von IPv6-ready Webserver-Ressourcen noch angefordert und über IPv4 bedient wurden, vor allem aufgrund von ISP-Kunden, die nicht die von ihrem ISP bereitgestellte Dual Stack-Anlage und in geringerem Maße aufgrund von Kunden von IPv4-nur ISPs verwendet haben. Tunneling Die technische Basis zum Tunneln oder Verkapseln von IPv6-Paketen in IPv4-Paketen ist in RFC 4213 umrissen. Als das Internet-Backbone IPv4-nur war, war eines der häufig verwendeten Tunneling-Protokolle 6-4. Auch Teredo-Tunneling wurde häufig zur Integration von IPv6 LANs mit dem IPv4 Internet-Backbone verwendet. Teredo ist in RFC 4380 umrissen und ermöglicht IPv6 lokale Netzwerke über IPv4-Netzwerke zu Tunneln, indem IPv6-Pakete innerhalb der UDP verkapselt werden. Das Teredo-Relais ist ein IPv6-Router, der zwischen einem Teredo-Server und dem nativen IPv6-Netzwerk vermittelt. Es wurde erwartet, dass 6to4 und Teredo weit verbreitet werden, bis ISP-Netzwerke auf native IPv6 wechseln würden, aber bis 2014 Google-Statistik zeigte, dass die Verwendung beider Mechanismen auf fast 0 gefallen war. IPv4-mapped IPv6-Adressen Hybriddual-stack IPv6/IPv4 Implementierungen erkennen eine spezielle Klasse von Adressen, die IPv4-mapped IPv6-Adressen. Diese Adressen werden typischerweise mit einem 96-Bit-Präfix im Standard-IPv6-Format geschrieben, und die restlichen 32 Bit, die in der üblichen Punkt-Dezimal-Notation von IPv4.IPv4-mapped Adressen geschrieben sind, sind in RFC 6890 Abschnitt 2.2.3 Tabelle 20 angegeben und in RFC 4291 definiert. Adressen in dieser Gruppe bestehen aus einem 80-Bit-Präfix von Nullen, die nächsten 16 Bits sind Eins, und die restlichen, am wenigsten bedeutenden 32 Bit enthalten die IPv4-Adresse. Beispielsweise stellt ffffff:192.0.2.128 die IPv4-Adresse 192.0.2.128 dar. Ein weiteres Format, genannt "IPv4-kompatible IPv6-Adresse", ist :192.0.2.128; jedoch wird diese Methode depreciert. Aufgrund der erheblichen internen Unterschiede zwischen IPv4 und IPv6 Protokollstapeln funktioniert einige der für Programmierer im IPv6-Stapel zur Verfügung stehenden niedrigeren Funktionalitäten bei der Verwendung mit IPv4-mapped Adressen nicht gleich. Einige häufige IPv6-Stacks implementieren die IPv4-mapped-Adresse nicht, entweder weil die IPv6- und IPv4-Stacks separate Implementierungen sind (z.B. Microsoft Windows 2000, XP und Server 2003) oder aufgrund von Sicherheitsbedenken (OpenBSD). Auf diesen Betriebssystemen muss ein Programm für jedes von ihm verwendete IP-Protokoll eine separate Steckdose öffnen. Auf einigen Systemen, z.B. dem Linux-Kernel, NetBSD und FreeBSD, wird diese Funktion von der in RFC 3493 angegebenen Steckdosenoption IPV6_V6ONLY gesteuert. RFC 6052 definiert eine Klasse von IPv4-embedded IPv6-Adressen mit dem Adress-Präfix 64:ff9b::/96 zur Verwendung in NAT64 Übergangsmethoden. Zum Beispiel 64:ff9b::192.0.2.128 steht für die IPv4-Adresse 192.0.2.128 Sicherheit Eine Reihe von Auswirkungen auf die Sicherheit kann sich aus der Nutzung von IPv6 ergeben. Einige von ihnen können mit den IPv6-Protokollen selbst zusammenhängen, während andere mit Implementierungsfehlern zusammenhängen. Schattennetze Die Hinzufügung von Knoten mit IPv6, die vom Softwarehersteller standardmäßig aktiviert werden, kann zur versehentlichen Erstellung von Schattennetzwerken führen, wodurch der IPv6-Verkehr in Netzwerke mit nur IPv4-Sicherheitsmanagement fließt. Dies kann auch bei Betriebssystem-Upgrades auftreten, wenn das neuere Betriebssystem IPv6 standardmäßig ermöglicht, während das ältere nicht. Die fehlende Aktualisierung der Sicherheitsinfrastruktur für IPv6 kann dazu führen, dass der IPv6-Verkehr umgangen wird. Shadow-Netzwerke sind in Business-Netzwerken aufgetreten, in denen Unternehmen ersetzen Windows XP-Systeme, die keinen IPv6-Stapel standardmäßig aktiviert haben, mit Windows 7-Systemen, die tun. Einige IPv6 Stack-Inhaber haben daher empfohlen, IPv4 kartierte Adressen zu deaktivieren und stattdessen ein Dual-Stack-Netzwerk zu verwenden, bei dem sowohl IPv4 als auch IPv6 unterstützt werden müssen. IPv6 Paketfragmentierung Forschung hat gezeigt, dass die Verwendung von Fragmentierung zur Vermeidung von Netzsicherheitskontrollen, ähnlich IPv4, genutzt werden kann. Dadurch benötigt RFC 7112, dass das erste Fragment eines IPv6-Pakets die gesamte IPv6-Headerkette enthält, so dass einige sehr pathologische Fragmentierungsfälle verboten sind. Darüber hinaus hat RFC 6980 durch die Forschung über die Evasion von RA-Guard in RFC 7113 die Verwendung von Fragmentierung mit Nachbar-Entdeckung depreciert und die Verwendung von Fragmentierung mit Secure Neighbor Discovery (SEND) entmutigt. Standardisierung durch RFCs Arbeitsgruppenvorschläge Die Internet Engineering Task Force (IETF) Anfang der 1990er Jahre hat sich durch das erwartete globale Wachstum des Internets bemüht, ein IP-Protokoll der nächsten Generation zu entwickeln. Anfang 1992 erschienen mehrere Vorschläge für ein erweitertes Internet-Adressing-System und Ende 1992 gab der IETF eine Ausschreibung für weiße Papiere bekannt. Im September 1993 hat der IETF ein temporäres, ad-hoc-IP Next Generation (IPng)-Bereich geschaffen, um sich speziell mit diesen Fragen zu befassen. Das neue Gebiet wurde von Allison Mankin und Scott Bradner geleitet und verfügte über eine Direktion mit 15 Ingenieuren aus unterschiedlichen Hintergründen für die Richtungseinstellung und Vordokumentüberprüfung: Die Arbeitsgruppenmitglieder waren J. Allard (Microsoft,) Steve Bellovin (AT&T,) Jim Bound (Digital Equipment Corporation,) Ross Callon (Wellfleet,) Brian Carpenter (CERN,) Dave Clark (MIT,) John Curran (NEARNET,) Steve Deering (Xerox,) Dino Farinacci (Cisco,) Paul Francis (NTT, Eric Fleischmann) Die Task Force Internet Engineering nahm das IPng-Modell am 25. Juli 1994 mit der Bildung mehrerer IPng-Arbeitsgruppen an. Bis 1996 wurde eine Reihe von RFCs veröffentlicht, die das Internet Protocol Version 6 (IPv6,) ab dem RFC 1883 definiert.(Version 5 wurde vom experimentellen Internet Stream Protocol verwendet.) RFC-Standardisierung Der erste RFC zur Standardisierung von IPv6 war der RFC 1883 im Jahr 1995, der 1998 von RFC 2460 überrollt wurde. Im Juli 2017 wurde diese RFC von RFC 8200 verdeckt, die IPv6 auf "Internet Standard" (das höchste Reifeniveau für IETF-Protokolle) erhöht. Bereitstellung Die Einführung von Classless Inter-Domain Routing (CIDR) in die Routing- und IP-Adressenzuweisung für das Internet und die umfangreiche Nutzung der Netzwerkadressenübersetzung (NAT,) verzögerte die IPv4-Adressenerschöpfung, um IPv6-Einsatz zu ermöglichen, der Mitte der 2000er Jahre begann. Universitäten gehörten zu den frühen Adoptern von IPv6. Virginia Tech hat IPv6 an einem Testort im Jahr 2004 eingesetzt und später den IPv6-Einsatz im Campus-Netzwerk ausgebaut. Bis 2016 nutzten 82% des Verkehrs in ihrem Netzwerk IPv6. Das Imperial College London begann 2003 mit dem experimentellen IPv6-Einsatz und 2016 war der IPv6-Verkehr in ihren Netzwerken zwischen 20% und 40% gemittelt. Ein bedeutender Teil dieses IPv6-Verkehrs wurde durch ihre hochenergiephysikalische Zusammenarbeit mit dem CERN generiert, die vollständig auf IPv6 basiert. Das Domain Name System (DNS) hat IPv6 seit 2008 unterstützt. Im selben Jahr wurde IPv6 erstmals in einer großen Weltveranstaltung während der Olympischen Sommerspiele in Peking 2008 eingesetzt. Bis 2011 hatten alle großen Betriebssysteme, die auf Personal-Computern und Serversystemen eingesetzt wurden, produktionsfähige IPv6-Implementierungen. Cellular Telefonsysteme präsentierten ein großes Einsatzfeld für Internet Protocol-Geräte als Mobiltelefon-Service machte den Übergang von 3G zu 4G-Technologien, in denen Stimme als eine Stimme über IP (VoIP)-Service bereitgestellt wird, die IPv6-Erweiterungen nutzen würde. 2009 veröffentlichte der US-Zellbetreiber Verizon technische Spezifikationen für Geräte, die in seinen Netzwerken der nächsten Generation arbeiten. Die Spezifikation beauftragte IPv6 Operation nach den 3GPP Release 8 Spezifikationen (März 2009) und deprecated IPv4 als optionale Fähigkeit. Der Einsatz von IPv6 im Internet-Backbone setzte sich fort. Im Jahr 2018 haben nur 25,3% der rund 54.000 autonomen Systeme sowohl IPv4 als auch IPv6 Präfixe in der globalen Border Gateway Protocol (BGP) Routing-Datenbank beworben. Eine weitere 243 Netzwerke beworben nur ein IPv6 Präfix. Internet-Backbone-Transitnetze mit IPv6-Unterstützung existierten in jedem Land weltweit, außer in Teilen Afrikas, des Nahen Ostens und Chinas. Bis Mitte 2018 hatten einige große europäische Breitband-ISPs IPv6 für die Mehrheit ihrer Kunden eingesetzt. British Sky Broadcasting lieferte über 86% seiner Kunden mit IPv6, die Deutsche Telekom hatte 56% Einsatz von IPv6, XS4ALL in den Niederlanden hatte 73% Einsatz und in Belgien hatten die Breitband-ISPs VOO und Telenet 73% bzw. 63% IPv6 Einsatz. In den Vereinigten Staaten hatte der Breitband-ISP Comcast einen IPv6-Einsatz von etwa 66%. Im Jahr 2018 meldete Comcast schätzungsweise 36,1 Millionen IPv6-Nutzer, während AT&T 22,3 Millionen IPv6-Nutzer meldete. Siehe auch China Next Generation Internet Vergleich der IPv6-Unterstützung in Betriebssystemen Vergleich der IPv6-Unterstützung in gemeinsamen Anwendungen DoD IPv6 Produktzertifizierung Happy Eyeballs Liste der IPv6-Tunnelbroker Universität New Hampshire InterOperability Laboratory References Externe Links IPv6 im Linux Kernel von Rami Rosen. Freier Pool von IPv4 Adresse Platz Erschöpft Einführung und Statistiken über IPV6