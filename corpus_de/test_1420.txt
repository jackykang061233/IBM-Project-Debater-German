Ein Subnetz oder Subnetz ist eine logische Unterteilung eines IP-Netzwerks. Die Praxis, ein Netzwerk in zwei oder mehr Netzwerke zu teilen, wird Subnetting genannt. Computer, die zu demselben Subnetz gehören, werden in ihren IP-Adressen mit einer identischen, bedeutendsten Bitgruppe angesprochen. Daraus ergibt sich die logische Aufteilung einer IP-Adresse in zwei Felder: die Netzwerknummer oder Routing-Präfix und die Restfeld- oder Host-Identifizierung. Das Ruhefeld ist eine Kennung für eine bestimmte Host- oder Netzwerkschnittstelle. Das Routing-Präfix kann in Classless Inter-Domain Routing (CIDR)-Notation als erste Adresse eines Netzwerks, gefolgt von einem Slash-Zeichen (/) und endet mit der Bit-Länge des Präfixes ausgedrückt werden. Beispielsweise 198.51.100.0/24 ist das Vorfix des Internet Protocol Version 4 Netzwerks, das an der angegebenen Adresse beginnt, mit 24 Bit, die für das Netzwerk-Präfix zugewiesen sind, und den restlichen 8 Bit, die für die Host-Adressierung reserviert sind. Adressen im Bereich 198.51.100.0 bis 198.51.100.255 gehören zu diesem Netzwerk. Die IPv6-Adressenspezifikation 2001:db8::/32 ist ein großer Adressblock mit 296 Adressen, mit einem 32-Bit Routing-Prefix. Für IPv4 kann ein Netzwerk auch durch seine Subnetzmaske oder Netzmaske charakterisiert sein, was die Bitmask ist, die bei der Anwendung von Bitweise UND-Betrieb auf jede IP-Adresse im Netzwerk das Routing-Präfix liefert. Subnet-Masken werden auch in der Punkt-dezimalen Notation wie eine Adresse exprimiert. Beispielsweise ist 255.255.255.0 die Subnetmaske für das Präfix 198.51.100.0/24. Der Verkehr wird zwischen Subnetzen durch Router ausgetauscht, wenn sich die Routing-Präfixe der Quelladresse und der Zieladresse unterscheiden. Ein Router dient als logische oder physikalische Grenze zwischen den Subnetzen. Die Vorteile der Subnettierung eines bestehenden Netzwerks variieren je nach Einsatzszenario. In der Adresszuordnungsarchitektur des Internets mit CIDR und in großen Organisationen ist es notwendig, den Adressraum effizient zuzuordnen. Subnetting kann auch die Routing-Effizienz verbessern oder Vorteile im Netzwerkmanagement haben, wenn Subnetworks von unterschiedlichen Organisationen in einer größeren Organisation administrative gesteuert werden. Subnets können logisch in einer hierarchischen Architektur angeordnet werden, indem der Netzwerkadressenraum einer Organisation in eine baumartige Routingstruktur oder andere Strukturen wie Meshs aufgeteilt wird. Netzwerk-Adressierung und Routing Computer, die an einem Netzwerk wie dem Internet teilnehmen, haben jeweils mindestens eine Netzwerkadresse. Üblicherweise ist diese Adresse für jedes Gerät einzigartig und kann entweder automatisch mit dem Dynamic Host Configuration Protocol (DHCP) durch einen Netzwerkserver, manuell durch einen Administrator, oder automatisch durch Stateless Address Autoconfiguration konfiguriert werden. Eine Adresse erfüllt die Funktionen der Identifizierung des Hosts und der Ortung im Netzwerk. Die häufigste Netzwerk-Adressing-Architektur ist Internet Protocol Version 4 (IPv4), aber sein Nachfolger IPv6 ist seit etwa 2006 zunehmend eingesetzt. Eine IPv4-Adresse besteht aus 32 Bits. Eine IPv6-Adresse besteht aus 128 Bits. In beiden Systemen wird eine IP-Adresse in zwei logische Teile, die Netzwerk-Präfix und die Host-Identifizierung unterteilt. Alle Hosts auf einem Subnetz haben das gleiche Netzwerk-Präfix. Dieses Präfix nimmt die bedeutendsten Bits der Adresse ein. Die Anzahl der Bits, die innerhalb eines Netzwerks dem Präfix zugeordnet werden, kann je nach Netzwerkarchitektur zwischen Subnetzen variieren. Die Host-Kennung ist eine eindeutige lokale Kennung und ist entweder eine Host-Nummer im lokalen Netzwerk oder eine Interface-Kennung. Diese Adressierungsstruktur ermöglicht das selektive Routing von IP-Paketen über spezielle Gateway-Computer, genannt Router, an einen Ziel-Host, wenn sich die Netzwerk-Präfixe von Ursprungs- und Ziel-Hosts unterscheiden oder direkt an einen Ziel-Host im lokalen Netzwerk gesendet werden, wenn sie gleich sind. Router bilden logische oder physische Grenzen zwischen den Subnetzen und verwalten den Verkehr zwischen ihnen. Jedes Subnetz wird von einem bestimmten Standardrouter bedient, kann aber intern aus mehreren physikalischen Ethernet-Segmenten bestehen, die durch Netzwerkschalter miteinander verbunden sind. Das Routing-Prefix einer Adresse wird durch die Subnetmaske identifiziert, die in der gleichen Form für IP-Adressen verwendet wird. Beispielsweise wird die Subnetmaske für ein Routing-Präfix, das aus den bedeutendsten 24 Bit einer IPv4-Adresse besteht, mit 255.255.255.0 geschrieben. Die moderne Standardform der Spezifikation des Netzwerk-Präfixes ist die CIDR-Notation, die sowohl für IPv4 als auch für IPv6 verwendet wird. Es zählt die Anzahl der Bits im Präfix und legt diese Zahl an die Adresse nach einem Slash (/) Zeichenabscheider an. Diese Notation wurde mit Classless Inter-Domain Routing (CIDR) eingeführt. In IPv6 ist dies die einzige standardbasierte Form, um Netzwerk- oder Routing-Präfixe zu bezeichnen. Beispielsweise wird das IPv4-Netzwerk 192.0.2.0 mit der Subnetzmaske 255.255.255.0 als 192.0.2.0/24 geschrieben, und die IPv6-Notation 2001:db8::/32 bezeichnet die Adresse 2001:db8 und deren Netzwerk-Präfix bestehend aus den bedeutendsten 32 Bits. Bei der klassenweisen Vernetzung in IPv4, vor der Einführung von CIDR, konnte das Netzwerk-Präfix direkt aus der IP-Adresse bezogen auf seine höchste Bitfolge erhalten werden. Dies ermittelte die Klasse (A, B, C) der Adresse und damit die Subnetmaske. Da die Einführung von CIDR jedoch die Zuordnung einer IP-Adresse zu einer Netzwerkschnittstelle zwei Parameter, die Adresse und eine Subnetzmaske erfordert. Bei einer IPv4-Quellenadresse, ihrer zugehörigen Subnetzmaske und der Zieladresse kann ein Router feststellen, ob das Ziel in einem lokal vernetzten Netzwerk oder einem Remotenetzwerk liegt. Die Subnetzmaske des Ziels ist nicht erforderlich und ist allgemein einem Router nicht bekannt. Für IPv6 ist die On-Link-Bestimmung jedoch im Detail unterschiedlich und erfordert das Neighbor Discovery Protocol (NDP). Die IPv6-Adressenzuweisung an eine Schnittstelle trägt keine Anforderung eines passenden On-Link-Präfixes und umgekehrt, mit Ausnahme von Link-Local-Adressen. Da jedes lokal verbundene Subnetz durch einen separaten Eintrag in den Routing-Tabellen jedes angeschlossenen Routers dargestellt werden muss, erhöht Subnetting die Routing-Komplexität. Durch sorgfältige Gestaltung des Netzes können jedoch Wege zu Sammlungen von entfernteren Subnetzen innerhalb der Zweige einer Baumhierarchie zu einem Supernetwork zusammengefasst und durch einzelne Routen dargestellt werden. Version des Internetprotokolls 4 Die Bestimmung der Netzwerk-PrefixAn IPv4 Subnet-Maske besteht aus 32 Bit; es ist eine Folge von einem (1) gefolgt von einem Block von Nullen (0). Diejenigen geben Bits in der für das Netzwerk-Präfix verwendeten Adresse an und der nachlaufende Block von Nullen bezeichnet diesen Teil als Host-Identifier. Das nachfolgende Beispiel zeigt die Trennung des Netzwerk-Präfixes und des Host-Identifiers von einer Adresse (192.0.2.130) und seiner zugehörigen /24 Subnetmaske (255.255.255.0). Die Operation wird in einer Tabelle mit binären Adressformaten visualisiert. Das Ergebnis des bitweisen UND-Betriebs der IP-Adresse und der Subnetzmaske ist das Netzwerk-Präfix 192.0.2.0. Das Hostteil, das 130 ist, wird durch den bitweisen UND-Betrieb der Adresse und deren Ergänzung der Subnetmaske abgeleitet. Subnetting Subnetting ist der Prozess, einige hochrangige Bits aus dem Hostteil als Teil des Netzwerkprefixes zu bezeichnen und die Subnetmaske entsprechend anzupassen. Dies teilt ein Netzwerk in kleinere Teilnetze. Das nachfolgende Diagramm modifiziert das obige Beispiel durch Verschieben von 2 Bits vom Hostteil auf das Netzwerk-Präfix auf vier kleinere Subnetze pro Viertel der vorherigen Größe. Spezielle Adressen und Subnetze IPv4 verwendet speziell benannte Adressformate, um die Erkennung spezieller Adressfunktionen zu erleichtern. Die ersten und letzten Teilnetze, die durch das Subnetz eines größeren Netzes gewonnen werden, haben traditionell eine besondere Bezeichnung und frühestens spezielle Nutzungsbezüge. Darüber hinaus nutzt IPv4 die alle Host-Adresse, d.h. die letzte Adresse innerhalb eines Netzwerks, für die Übertragung an alle Hosts auf dem Link. Das erste Subnetz, das aus einem größeren Netzwerk gewonnen wird, hat alle Bits in der Subnetz-Bitgruppe auf Null (0) gesetzt. Es wird also Subnet Null genannt. Das letzte Subnetz, das aus einem größeren Netzwerk gewonnen wird, hat alle Bits in der Teilnetz-Bitgruppe auf ein (1) gesetzt. Es wird daher das All-ones Subnetz genannt. Die IETF entmutigte ursprünglich den Produktionseinsatz dieser beiden Subnetze. Wenn die Vorfixlänge nicht verfügbar ist, haben das größere Netzwerk und das erste Subnetz dieselbe Adresse, was zu Verwirrung führen kann. Ähnliche Verwirrung ist möglich Sendeadresse am Ende des letzten Subnetzes. Daher wurde empfohlen, die Subnet-Werte, die aus allen Nullen und allen im öffentlichen Internet bestehen, zu speichern und die Anzahl der verfügbaren Subnets um zwei für jedes Subnetting zu reduzieren. Diese Unzulänglichkeit wurde beseitigt, und die Praxis wurde 1995 als obsolet erklärt und ist nur bei der Behandlung von Altgeräten relevant. Obwohl die All-Null- und All-ones-Host-Werte für die Netzadresse des Subnetzes bzw. dessen Sendeadresse reserviert sind, sind in Systemen mit CIDR alle Subnetze in einem unterteilten Netzwerk verfügbar. Beispielsweise kann ein /24-Netzwerk in sechzehn nutzbare /28-Netzwerke unterteilt werden. Jede Sendeadresse, d.h. .*15, .*31, ..., .*255, reduziert in jedem Subnetz nur die Hostzahl. Subnet host count Die Anzahl der verfügbaren Subnetze und die Anzahl der möglichen Hosts in einem Netzwerk kann leicht berechnet werden. Zum Beispiel die 192.168.5.0/24 Netzwerk kann in die folgenden vier /26 Subnetze unterteilt werden. Die hervorgehobenen zwei Adressbits werden dabei Teil der Netzwerknummer. Die restlichen Bits nach den Subnetzbits werden zur Adressierung von Hosts innerhalb des Subnetzes verwendet. Im obigen Beispiel besteht die Subnet-Maske aus 26 Bits, so dass sie 255.255.255.192 und 6 Bits für die Host-Identifizierung hinterlassen. Dies ermöglicht 62 Host-Kombinationen (26-2). Im allgemeinen beträgt die Anzahl der verfügbaren Hosts auf einem Subnetz 2h-2, wobei h die Anzahl der Bits ist, die für den Hostteil der Adresse verwendet werden. Die Anzahl der verfügbaren Subnetze beträgt 2n, wobei n die Anzahl der Bits ist, die für den Netzteil der Adresse verwendet werden. Es gibt eine Ausnahme von dieser Regel für 31-Bit-Subnetzmasken, was bedeutet, dass die Host-Identifizierung nur ein Bit lang für zwei zulässige Adressen ist. In solchen Netzwerken, in der Regel Punkt-zu-Punkt-Links, können nur zwei Hosts (die Endpunkte) angeschlossen werden und eine Spezifikation von Netzwerk- und Sendeadressen ist nicht erforderlich. Version des Internetprotokolls 6 Die Gestaltung des IPv6-Adressenraums unterscheidet sich deutlich von IPv4. Der Hauptgrund für die Subnetzung in IPv4 besteht darin, die Effizienz bei der Nutzung des zur Verfügung stehenden relativ kleinen Adressraums, insbesondere für Unternehmen, zu verbessern. Solche Einschränkungen gibt es im IPv6 nicht, da der große Adressraum, auch für Endnutzer, kein limitierender Faktor ist. Wie in IPv4 basiert das Subnetting in IPv6 auf den Konzepten der Variable-Länge Subnet Maskierung (VLSM) und der Classless Inter-Domain Routing-Methodik. Es wird verwendet, um den Verkehr zwischen den globalen Zuteilungsräumen und innerhalb von Kundennetzen zwischen Subnetzen und dem Internet groß zu führen. Ein kompatibles IPv6-Subnet verwendet immer Adressen mit 64 Bit in der Host-Identifizierung. Bei der Adressgröße von 128 Bits hat es daher ein /64 Routing-Prefix. Obwohl es technisch möglich ist, kleinere Subnetze zu verwenden, sind sie für lokale Netzwerke auf Basis von Ethernet-Technologie unpraktisch, da 64 Bit für eine staatliche Adressautokonfiguration benötigt werden. Die Internet Engineering Task Force empfiehlt die Verwendung von /127 Subnetzen für Punkt-zu-Punkt-Links, die nur zwei Hosts haben. IPv6 implementiert keine speziellen Adressformate für Rundfunk- oder Netzwerknummern, und somit sind alle Adressen in einem Subnetz für die Host-Adressierung akzeptabel. Die All-Null-Adresse ist als Subnet-Router-Adresse reserviert. In der Vergangenheit war die empfohlene Zuordnung für eine IPv6-Kundenseite ein Adressraum mit einem 48-Bit (/48)-Präfix. Diese Empfehlung wurde jedoch überarbeitet, um kleinere Blöcke zu fördern, beispielsweise mit 56-Bit-Präfixen. Eine weitere gemeinsame Zuordnungsgröße für Wohnkundennetze hat ein 64-Bit-Präfix. Siehe auch Autonomes System (Internet) Referenzen Weitere Lesevoraussetzungen für IPv4 Routers.doi:10.17487/RFC1812.RFC 1812.Utility of subnets of Internet networks.doi:10.17487/RFC0917.RFC 917.DNS Encodings of Network Names and Other Type. doi:10.17487/RFC1101.RFC 1101.Blank 2006 TCP/IP Foundations.Wiley.ISBN 9780782151138.Lammle, Todd (2005). CCNA Cisco Certified Network Associate Study Guide 5th Edition. San Francisco, London: Sybex.Groth, David; Skandier, Toby (2005). Netzwerk + Studienführer (4. ed.). San Francisco, London:Wiley. Externe Links Cisco-IP Adressierung und Subnetting für neue Benutzer Subnetworking bei Curlie NetmaskQuick Referenzdiagramm