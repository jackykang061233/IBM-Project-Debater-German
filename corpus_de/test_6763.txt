Simple Network Management Protocol (SNMP) ist ein Internet-Standard-Protokoll zum Sammeln und Organisieren von Informationen über verwaltete Geräte in IP-Netzwerken und zur Änderung dieser Informationen zum Wechsel des Geräteverhaltens. Geräte, die normalerweise SNMP unterstützen, umfassen Kabelmodi, Router, Switche, Server, Workstations, Drucker und mehr. SNMP wird im Netzwerkmanagement für die Netzwerküberwachung weit verbreitet. SNMP legt Managementdaten in Form von Variablen auf den in einer Management-Informationsbasis (MIB) organisierten verwalteten Systemen vor, die den Systemstatus und die Konfiguration beschreiben. Diese Variablen können dann durch die Verwaltung von Anwendungen ferngefragt (und unter Umständen manipuliert) werden. Drei signifikante Versionen von SNMP wurden entwickelt und eingesetzt. SNMPv1 ist die ursprüngliche Version des Protokolls. Neuere Versionen, SNMPv2c und SNMPv3, bieten Verbesserungen in der Leistung, Flexibilität und Sicherheit. SNMP ist Bestandteil der Internet Protocol Suite im Sinne der Internet Engineering Task Force (IETF). Es besteht aus einer Reihe von Standards für die Netzwerkverwaltung, einschließlich eines Anwendungsschichtprotokolls, eines Datenbankschemas und einer Reihe von Datenobjekten. Übersicht und Grundkonzepte In typischen Verwendungen von SNMP haben ein oder mehrere Verwaltungsrechner namens Manager die Aufgabe, eine Gruppe von Hosts oder Geräten auf einem Computernetzwerk zu überwachen oder zu verwalten. Jedes verwaltete System führt eine Softwarekomponente aus, die einen Agenten genannt wird, der Informationen über SNMP an den Manager meldet. Ein SNMP-gestütztes Netzwerk besteht aus drei Schlüsselkomponenten: Managed Devices Agent – Software, die auf verwalteten Geräten läuft Network Management Station (NMS) – Software, die auf dem Manager läuft Ein verwaltetes Gerät ist ein Netzknoten, der eine SNMP-Schnittstelle implementiert, die einen unidirektionalen (nur lesen) oder bidirektionalen (lesen und schreiben) Zugriff auf knotenspezifische Informationen ermöglicht. Verwaltete Geräte tauschen knotenspezifische Informationen mit den NMSs aus. Manchmal als Netzwerkelemente bezeichnet, können die verwalteten Geräte jede Art von Gerät sein, einschließlich, aber nicht beschränkt auf Router, Zugriffsserver, Schalter, Kabelmodems, Brücken, Hubs, IP-Telefone, IP-Videokameras, Computerhosts und Drucker. Ein Agent ist ein Netzwerk-Management-Software-Modul, das sich auf einem verwalteten Gerät befindet. Ein Agent hat lokale Kenntnisse über Managementinformationen und übersetzt diese Informationen in oder aus einer SNMP-spezifischen Form. Eine Netzwerkverwaltungsstation führt Anwendungen aus, die verwaltete Geräte überwachen und steuern. NMSs bieten den Großteil der für das Netzwerkmanagement benötigten Verarbeitungs- und Speicherressourcen. Ein oder mehrere NMSs können in jedem verwalteten Netzwerk existieren. Management-Informationsbasis SNMP Agenten setzen Managementdaten auf die verwalteten Systeme als Variablen. Das Protokoll erlaubt auch aktive Managementaufgaben, wie Konfigurationsänderungen, durch Remote-Modifikation dieser Variablen. Die über SNMP zugänglichen Variablen werden in Hierarchien organisiert. SNMP selbst definiert nicht, welche Variablen ein verwaltetes System bieten soll. Vielmehr verwendet SNMP ein erweiterbares Design, mit dem Anwendungen ihre eigenen Hierarchien definieren können. Diese Hierarchien werden als Management-Informationsbasis (MIB) beschrieben. MIBs beschreiben die Struktur der Managementdaten eines Gerätesubsystems; sie verwenden einen hierarchischen Namespace mit Objektkennungen (OID). Jede OID identifiziert eine Variable, die über SNMP gelesen oder eingestellt werden kann. MIBs verwenden die durch Structure of Management Information Version 2.0 (SMIv2, RFC 2578,) definierte Notation, eine Teilmenge von ASN.1 Protokolldetails SNMP arbeitet in der Anwendungsschicht der Internetprotokoll-Suite. Alle SNMP-Nachrichten werden über das User Datagram Protocol (UDP) transportiert. Der SNMP-Agent erhält Anfragen an den UDP-Port 161. Der Manager kann Anfragen von jedem verfügbaren Quellport an Port 161 im Agenten senden. Die Agent-Antwort wird an den Quellport des Managers zurückgeschickt. Der Manager erhält Benachrichtigungen (Traps und InformRequests) auf Port 162. Der Agent kann Benachrichtigungen von jedem verfügbaren Port generieren. Bei der Verwendung mit Transport Layer Security oder Datagram Transport Layer Security werden Anfragen auf Port 10161 empfangen und Benachrichtigungen an Port 10162 gesendet. SNMPv1 gibt fünf Kernprotokolldateneinheiten (PDUs) an. Zwei weitere PDUs, GetBulkRequest und InformRequest wurden in SNMPv2 hinzugefügt und der Bericht PDU wurde in SNMPv3 hinzugefügt. Alle SNMP PDUs sind wie folgt aufgebaut: Die sieben SNMP PDU-Typen, die durch das PDU-Feld identifiziert werden, sind wie folgt: Eroberung Eine manager-to-agent-Anforderung, um den Wert einer Variablen oder Variablenliste abzurufen. Gewünschte Variablen werden in variablen Bindungen angegeben (das Wertefeld wird nicht verwendet). Die Abrufung der angegebenen variablen Werte ist als Atombetrieb durch das Mittel durchzuführen. Eine Antwort mit aktuellen Werten wird zurückgegeben. Zurück zur Übersicht Eine manager-to-agent-Anforderung, um den Wert einer Variablen oder Variablenliste zu ändern. Variable Bindungen werden im Körper der Anfrage angegeben. Änderungen an allen angegebenen Variablen sind als Atombetrieb durch das Mittel vorzunehmen. Eine Antwort mit (aktuellen) neuen Werten für die Variablen wird zurückgegeben. Jetzt kaufen Eine Manager-to-agent-Anfrage, um verfügbare Variablen und ihre Werte zu entdecken. Gibt eine Antwort mit variabler Bindung für die lexicographisch nächste Variable im MIB zurück. Die gesamte MIB eines Agenten kann von der iterativen Anwendung von GetNextRequest ab OID 0 gespeist werden. Zeilen einer Tabelle können durch Angabe der Spalte OIDs in den variablen Bindungen der Anfrage gelesen werden. Suche nach: Eine Manager-zu-Agent-Anforderung für mehrere Iterationen von GetNextRequest. Eine optimierte Version von GetNextRequest. Gibt eine Antwort mit mehreren variablen Bindungen zurück, die von den variablen Bindungen oder Bindungen in der Anfrage gewalkt werden. PDU-spezifische Nicht-Repeater und Max-Repetitionsfelder werden zur Steuerung des Antwortverhaltens verwendet. GetBulkRequest wurde in SNMPv2 eingeführt.Response Gibt variable Bindungen und Bestätigung von Agent zu Manager für GetRequest, SetRequest, GetNextRequest, GetBulkRequest und InformRequest zurück. Die Fehlerberichterstattung erfolgt durch Fehlerstatus- und Fehlerindexfelder. Obwohl es als Reaktion auf beide Gets und Sets verwendet wurde, wurde diese PDU als GetResponse in SNMPv1 bezeichnet. Trap Asynchrone Benachrichtigung von Agent zu Manager. Während in anderer SNMP-Kommunikation der Manager aktiv Informationen vom Agenten anfordert, sind es PDUs, die vom Agenten an den Manager gesendet werden, ohne ausdrücklich angefordert zu werden. SNMP-Fälle ermöglichen es einem Agenten, die Managementstation über eine unaufgeforderte SNMP-Nachricht über bedeutende Ereignisse zu informieren. Zu den Trap PDUs gehören aktueller SysUpTime-Wert, ein OID, der die Art der Falle und optionale variable Bindungen identifiziert. Die Bestimmung der Zieladressen für Fallen erfolgt in anwendungsspezifischer Weise typischerweise durch Fallenkonfigurationsvariablen im MIB. Das Format der Fallnachricht wurde in SNMPv2 geändert und die PDU wurde SNMPv2-Trap umbenannt. InformRequest Anerkennung einer asynchronen Benachrichtigung. Diese PDU wurde in SNMPv2 eingeführt und wurde ursprünglich als Manager für die Managerkommunikation definiert. Spätere Implementierungen haben die ursprüngliche Definition gelöst, um Agenten Kommunikation leiten zu lassen. Manager-zu-Manager-Benachrichtigungen waren bereits in SNMPv1 mit einem Trap möglich, aber da SNMP häufig über UDP läuft, wo die Lieferung nicht gewährleistet ist und fallen Pakete nicht gemeldet werden, wurde die Lieferung eines Trap nicht garantiert. InformRequest legt dies fest, da eine Bestätigung beim Empfang zurückgegeben wird. RFC 1157 gibt an, dass eine SNMP-Implementierung eine Nachricht von mindestens 484 Bytes in Länge akzeptieren muss. In der Praxis akzeptieren SNMP-Implementierungen längere Nachrichten. Bei korrekter Implementierung wird eine SNMP-Nachricht verworfen, wenn die Decodierung der Nachricht ausfällt und somit fehlerhafte SNMP-Anfragen ignoriert werden. Eine erfolgreich decodierte SNMP-Anfrage wird dann mit dem Community-String authentifiziert. Wenn die Authentifizierung ausfällt, wird eine Falle erzeugt, die einen Authentifizierungsfehler anzeigt und die Nachricht abfällt. SNMPv1 und SNMPv2 nutzen Gemeinden, um Vertrauen zwischen Managern und Agenten zu schaffen. Die meisten Agenten unterstützen drei Community-Namen, je eine für Lektüre, Schreib- und Falle. Diese drei Community-Strings steuern verschiedene Arten von Aktivitäten. Die Read-Only-Community gilt für Anfragen. Die Schreib-Lese-Community-String gilt für bestimmte Anfragen. Der Fall Community String gilt für den Eingang von Fallen. SNMPv3 verwendet auch Community-Strings, ermöglicht aber eine sichere Authentifizierung und Kommunikation zwischen SNMP Manager und Agent. Protokollversionen In der Praxis unterstützen SNMP-Implementierungen oft mehrere Versionen: typischerweise SNMPv1, SNMPv2c und SNMPv3. Version 1 SNMP Version 1 (SNMPv1) ist die erste Implementierung des SNMP-Protokolls. Das Design von SNMPv1 wurde in den 1980er Jahren von einer Gruppe von Mitarbeitern durchgeführt, die den offiziell gesponserten OSI/IETF/NSF (National Science Foundation)-Bemühung (HEMS/CMIS/CMIP) als sowohl in den Computer-Plattformen der Zeit als auch potenziell unarbeitbar angesehen haben. SNMP wurde auf der Grundlage der Überzeugung genehmigt, dass es sich um ein Interimsprotokoll handelte, das für Schritte zur großtechnischen Bereitstellung des Internets und seiner Kommerzialisierung erforderlich war. Die erste Anfrage für Kommentare (RFCs) für SNMP, jetzt bekannt als SNMPv1, erschien 1988: RFC 1065 — Struktur und Identifizierung von Managementinformationen für TCP/IP-basierte Internets RFC 1066 — Management-Informationsbasis für die Netzverwaltung von TCP/IP-basierten Internets RFC 1067 —Ein einfaches Netzwerkmanagementprotokoll 1990 wurden diese Dokumente von: RFC ersetzt. 1155 — Struktur und Identifizierung von Management-Informationen für TCP/IP-basierte Internets RFC 1156 — Management-Informationsbasis für die Netzverwaltung von TCP/IP-basierten Internets RFC 1157 —Ein einfaches Netzwerkmanagement-Protokoll 1991 wurde RFC 1156 (MIB-1) durch die häufiger verwendete ersetzt: RFC 1213 — Version 2 der Management-Informationsbasis (MIB-2) für die Netzverwaltung von TCP/IP-basierten Internets ist weit verbreitet. SNMPv1 kann durch Transportschichtprotokolle wie User Datagram Protocol (UDP,) Internet Protocol (IP,) OSI Connectionless-Mode Network Service (CLNS,) AppleTalk Datagram Delivery Protocol (DDP,) und Novell Internetwork Packet Exchange (IPX) getragen werden. Version 1 wurde wegen seiner schlechten Sicherheit kritisiert. Die Spezifikation erlaubt tatsächlich Raum für die individuelle Authentifizierung, aber weit verbreitete Implementierungen "Unterstützen nur einen trivialen Authentifizierungsservice, der alle SNMP-Nachrichten als authentische SNMP-Nachrichten identifiziert." Die Sicherheit der Nachrichten wird daher von der Sicherheit der Kanäle abhängig, über die die Nachrichten gesendet werden. Beispielsweise kann eine Organisation ihr internes Netzwerk als ausreichend sicher betrachten, dass für ihre SNMP-Nachrichten keine Verschlüsselung erforderlich ist. In solchen Fällen neigt der "Gemeinschaftsname", der im Klartext übertragen wird, trotz der ursprünglichen Spezifikation eher als de facto-Passwort zu betrachten. Die von RFC 1441 und RFC 1452 definierte Version 2 SNMPv2 überprüft die Version 1 und enthält Verbesserungen in den Bereichen Leistung, Sicherheit und Manager-to-Manager-Kommunikation. Es stellte GetBulkRequest vor, eine Alternative zu iterative GetNextRequests für das Abruf großer Mengen von Managementdaten in einer einzigen Anfrage. Das neue parteibasierte Sicherheitssystem, das in SNMPv2 eingeführt wurde, wurde von vielen als überwältigend komplex betrachtet nicht weit verbreitet. Diese Version von SNMP erreichte das Proposed Standard Reifeniveau, wurde aber von späteren Versionen als veraltet angesehen. In RFC 1901–RFC 1908 wird das vereinfachte Netzwerkmanagementprotokoll Version 2 oder SNMPv2c definiert. SNMPv2c umfasst SNMPv2 ohne das umstrittene neue SNMP v2 Sicherheitsmodell, stattdessen das einfache gemeinschaftliche Sicherheitssystem von SNMPv1. Diese Version ist eine von relativ wenigen Standards, um dem IETF-Standard-Reifeniveau zu entsprechen, und wurde weithin als der de facto SNMPv2 Standard angesehen. Es wurde später als Teil von SNMPv3 restauriert. Benutzerbasierte einfache Netzwerk-Management-Protokoll Version 2 oder SNMPv2u, ist in RFC 1909–RFC 1910 definiert. Dies ist ein Kompromiss, der versucht, mehr Sicherheit als SNMPv1, aber ohne die hohe Komplexität von SNMPv2 zu bieten. Eine Variante davon wurde als SNMP v2,* kommerziellisiert und der Mechanismus wurde schließlich als eines von zwei Sicherheitsrahmen in SNMP v3. 64-Bit-Zähler SNMP Version 2 stellt die Option für 64-Bit-Datenzähler ein. Die Version 1 wurde nur mit 32-Bit-Zählern ausgeführt, die ganze Zahlenwerte von Null auf 4,29 Milliarden speichern können (genau 4,294,967,295). Ein 32-Bit-Version 1 Zähler kann die maximale Geschwindigkeit einer 10 Gigabit oder größeren Schnittstelle nicht speichern, ausgedrückt in Bits pro Sekunde. Ebenso kann eine 32-Bit-Zähler-Tracking-Statistik für eine 10 Gigabit- oder größere Schnittstelle in weniger als einer Minute wieder auf Null überrollen, was ein kürzeres Zeitintervall sein kann, als ein Zähler zur Auslesung seines aktuellen Zustandes abgefragt wird. Dies würde zu verlorenen oder ungültigen Daten durch den unentdeckten Wertüberschlag und Korruption von Trenddaten führen. Der 64-Bit-Version 2 -Zähler kann Werte von Null bis 18,4 Quitillion speichern (genau 18,446,744,073,709,551,615) und ist somit derzeit unwahrscheinlich, dass ein Gegenüberroller zwischen Bestäubungsereignissen auftritt. Zum Beispiel 1,6 Terabit Ethernet wird voraussichtlich bis 2025 verfügbar sein. Ein 64-Bit-Zähler, der mit einer Rate von 1,6 Trillionbits pro Sekunde inkrementiert wird, wäre in der Lage, Informationen für eine solche Schnittstelle zu behalten, ohne über 133 Tage zu rollen. SNMPv1 & SNMPv2c Interoperabilität SNMPv2c ist in zwei Schlüsselbereichen mit SNMPv1 unvereinbar: Nachrichtenformate und Protokolloperationen. SNMPv2c-Nachrichten verwenden verschiedene Header- und Protokolldateneinheit (PDU)-Formate als SNMPv1-Nachrichten. SNMPv2c verwendet auch zwei Protokolloperationen, die nicht in SNMPv1 angegeben sind. Um Unverträglichkeit zu überwinden, definiert RFC 3584 zwei SNMPv1/v2c Koexistenzstrategien: Proxy-Agenten und zweisprachige Netzwerk-Management-Systeme. Proxy-Mittel Ein SNMPv2 Agent kann als Proxy Agent im Auftrag von SNMPv1 verwalteten Geräten fungieren. Wenn ein SNMPv2 NMS einen Befehl ausgibt, der für einen SNMPv1 Agenten bestimmt ist, sendet er ihn stattdessen an den SNMPv2 Proxy Agenten. Der Proxy-Agent leitet Holen Sie sich, GetNext und Setzen Sie Nachrichten auf den SNMPv1 Agent unverändert. GetBulk-Nachrichten werden vom Proxy-Agent in GetNext-Nachrichten umgewandelt und dann an den SNMPv1 Agent weitergeleitet. Zusätzlich erhält der Proxy-Agent SNMPv1 Trace-Nachrichten an SNMPv2 Trace-Nachrichten und leitet diese dann an das NMS weiter. Zweisprachige Netzwerk-Management-System Bilingual SNMPv2 Netzwerk-Management-Systeme unterstützen sowohl SNMPv1 als auch SNMPv2. Zur Unterstützung dieser Dual-Management-Umgebung untersucht eine Management-Anwendung in einer lokalen Datenbank gespeicherte Informationen, um festzustellen, ob der Agent SNMPv1 oder SNMPv2 unterstützt. Anhand der Informationen in der Datenbank kommuniziert das NMS mit dem Agenten über die entsprechende Version von SNMP. Version 3 Obwohl SNMPv3 neben der Hinzufügung der kryptographischen Sicherheit keine Änderungen des Protokolls macht, sieht es aufgrund neuer Textkonventionen, Konzepte und Terminologie sehr unterschiedlich aus. Die sichtbarste Änderung war, eine sichere Version von SNMP zu definieren, indem SNMP Sicherheits- und Remotekonfigurationserweiterungen hinzugefügt wurden. Der Sicherheitsaspekt wird angesprochen, indem sowohl eine starke Authentifizierung als auch eine Datenverschlüsselung für die Privatsphäre angeboten werden. Für den Administrations-Aspekt konzentriert sich SNMPv3 auf zwei Teile, nämlich Benachrichtigungs- und Proxy-Forwarder. Die Änderungen erleichtern auch die Remote-Konfiguration und Verwaltung der SNMP-Einheiten sowie die Adressierung von Problemen im Zusammenhang mit der groß angelegten Bereitstellung, Buchhaltung und Fehlerverwaltung. Features und Erweiterungen enthalten: Identifizierung von SNMP-Entitäten zur Erleichterung der Kommunikation nur zwischen bekannten SNMP-Entitäten – Jede SNMP-Entität hat eine Kennung namens SNMPEngineID, und SNMP-Kommunikation ist nur möglich, wenn eine SNMP-Entität die Identität ihres Peer kennt. Traps und Notifications sind Ausnahmen von dieser Regel. Unterstützung von Sicherheitsmodellen – Ein Sicherheitsmodell kann die Sicherheitspolitik innerhalb eines Verwaltungsbereichs oder eines Intranets definieren. SNMPv3 enthält die Spezifikationen für ein nutzerbasiertes Sicherheitsmodell (USM). Definition von Sicherheitszielen, bei denen die Ziele des Nachrichtenauthentifizierungsdienstes Schutz vor folgenden beinhalten: Änderung der Informationen – Schutz vor einer nicht autorisierten SNMP-Instanz, die von einem autorisierten Auftraggeber generierte in-transit-Nachrichten verändert. Masquerade – Schutz vor versuchten Management-Operationen, die nicht für einige Hauptverantwortliche durch die Annahme der Identität eines anderen Hauptverantwortlichen, der die entsprechenden Berechtigungen hat. Änderung des Nachrichtenstroms – Schutz vor Meldungen, die schädlich neu bestellt, verzögert oder wiederholt werden, um unbefugte Verwaltungsvorgänge zu beeinflussen. Offenlegung – Schutz vor Auslöschung am Austausch zwischen SNMP-Motoren. Spezifikation für USM – USM besteht aus der allgemeinen Definition der folgenden verfügbaren Kommunikationsmechanismen: Kommunikation ohne Authentifizierung und Privatsphäre (NoAuthNoPriv). Kommunikation mit Authentifizierung und ohne Privatsphäre (AuthNoPriv). Kommunikation mit Authentifizierung und Privatsphäre (AuthPriv). Definition verschiedener Authentifizierungs- und Datenschutzprotokolle – MD5, SHA und HMAC-SHA-2 Authentifizierungsprotokolle und die CBC_DES und CFB_AES_128 Datenschutzprotokolle werden in der USM unterstützt. Definition eines Entdeckungsverfahrens – Um die SNMPEngineID einer SNMP-Einheit für eine bestimmte Transportadresse und Transportendpunktadresse zu finden. Definition des Zeitsynchronisationsverfahrens – Um die authentifizierte Kommunikation zwischen den SNMP-Einheiten zu erleichtern. Definition des SNMP-Rahmens MIB – Um die Remote-Konfiguration und Verwaltung der SNMP-Instanz zu erleichtern. Definition der USM MIBs – Um die Remote-Konfiguration und Verwaltung des Sicherheitsmoduls zu erleichtern. Definition des viewbasierten Zugangskontrollmodells (VACM) MIBs – Um die Remotekonfiguration und Verwaltung des Zugangskontrollmoduls zu erleichtern. Sicherheit war eine der größten Schwächen von SNMP bis v3.Authentication in SNMP Versionen 1 und 2 entspricht nichts mehr als ein Passwort (community string) in Klartext zwischen einem Manager und Agent gesendet. Jede SNMPv3-Nachricht enthält Sicherheitsparameter, die als Oktett-String kodiert sind. Die Bedeutung dieser Sicherheitsparameter hängt vom verwendeten Sicherheitsmodell ab. Der Sicherheitsansatz in v3 Zielen: Vertraulichkeit – Verschlüsselung von Paketen, um zu verhindern, dass Schnüffeln durch eine nicht autorisierte Quelle. Integrität – Botschaftsintegrität, um sicherzustellen, dass ein Paket nicht verfälscht wurde, während im Transit, einschließlich eines optionalen Paketwiedergabeschutzmechanismus. Authentication – um zu überprüfen, ob die Nachricht aus einer gültigen Quelle stammt.v3 definiert auch die USM und VACM, die später von einem Transportsicherheitsmodell (TSM) gefolgt wurden, das Unterstützung für SNMPv3 über SSH und SNMPv3 über TLS und DTLS bot. USM (User-based Security Model) bietet Authentifizierungs- und Datenschutzfunktionen (Verschlüsselung) und arbeitet auf der Nachrichtenebene. VACM (View-based Access Control Model) bestimmt, ob ein bestimmter Principal Zugriff auf ein bestimmtes MIB-Objekt erlaubt ist, um bestimmte Funktionen auszuführen und auf PDU-Ebene arbeitet. TSM (Transport Security Model) bietet ein Verfahren zur Authentisierung und Verschlüsselung von Nachrichten über externe Sicherheitskanäle. Zwei Transporte, SSH und TLS/DTLS wurden definiert, die die TSM-Spezifikation verwenden. Ab 2004 erkennt der IETF die Simple Network Management Protocol Version 3 gemäß RFC 3411–RFC 3418 (auch bekannt als STD0062) als aktuelle Standardversion von SNMP. Der IETF hat SNMPv3 einen vollen Internetstandard, den höchsten Reifegrad für einen RFC bezeichnet. Es betrachtet frühere Versionen als veraltet (die sie verschiedene historische oder obsolete.) Die leistungsstarken Schreibfunktionen von SNMP, die die Konfiguration von Netzwerkgeräten ermöglichen würden, werden von vielen Anbietern nicht vollständig genutzt, zum Teil wegen fehlender Sicherheit in SNMP-Versionen vor SNMPv3 und zum Teil weil viele Geräte einfach nicht über einzelne MIB-Objektänderungen konfiguriert werden können. Einige SNMP-Werte (insbesondere tabellarische Werte) erfordern spezifische Kenntnisse der Tabellenindexierungssysteme, und diese Indexwerte sind nicht unbedingt über Plattformen hinweg konsistent. Dies kann zu Korrelationsproblemen führen, wenn Informationen von mehreren Geräten abgeholt werden, die nicht dasselbe Tabellen-Indexing-Schema verwenden können (z.B. Abrufen von Datenträgern, bei denen eine bestimmte Datenträgerkennung über Plattformen unterschiedlich ist). Einige große Geräte-Anbieter neigen dazu, ihre proprietäre Befehlszeilen-Schnittstelle (CLI) centric Konfigurations- und Steuerungssysteme über zu verlängern.Im Februar 2002 gab das Carnegie Mellon Software Engineering Institute (CM-SEI) Computer Emergency Response Team Coordination Center (CERT-CC) einen Beirat an SNMPv1 aus, nachdem die Oulu University Secure Programming Group eine gründliche Analyse der SNMP-Nachrichtenbehandlung durchgeführt hatte. Die meisten SNMP-Implementierungen, unabhängig davon, welche Version des Protokolls sie unterstützen, verwenden den gleichen Programmcode zur Decodierung von Protokolldateneinheiten (PDU) und Probleme wurden in diesem Code identifiziert. Weitere Probleme wurden bei der Decodierung von SNMP-Flock-Nachrichten gefunden, die von der SNMP-Managementstation empfangen wurden oder von dem SNMP-Agenten auf dem Netzwerkgerät empfangene Anfragen. Viele Anbieter mussten Patches für ihre SNMP-Implementierungen ausstellen. Sicherheits-Implikationen Mit Hilfe von SNMP ein Netzwerk angreifen Weil SNMP so konzipiert ist, dass Administratoren Netzwerkgeräte remote überwachen und konfigurieren können, kann es auch verwendet werden, um ein Netzwerk zu durchdringen. Eine signifikante Anzahl von Software-Tools kann das gesamte Netzwerk mit SNMP scannen, daher können Fehler in der Konfiguration des Schreib-Lese-Modus ein Netzwerk anfällig für Angriffe machen. 2001 Cisco veröffentlichte Informationen, die darauf hinwiesen, dass die SNMP-Implementierung von Cisco IOS auch im Read-Only-Modus gegen bestimmte Verweigerung von Service-Angriffen anfällig ist. Diese Sicherheitsprobleme können durch ein IOS-Upgrade behoben werden. Wenn SNMP nicht in einem Netzwerk verwendet wird, sollte es in Netzwerkgeräten deaktiviert werden. Bei der Konfiguration des SNMP-Lesensmodus sollte auf die Konfiguration der Zugriffssteuerung aufmerksam gemacht werden und aus dem IP-Adressen SNMP-Nachrichten angenommen werden. Wenn die SNMP-Server durch ihre IP identifiziert werden, darf SNMP nur auf diese IPs reagieren und SNMP-Nachrichten anderer IP-Adressen verweigert werden. Die IP-Adresse spoofing bleibt jedoch ein Sicherheitsbedenken. Authentication SNMP ist in verschiedenen Versionen verfügbar, jede hat eigene Sicherheitsprobleme. SNMP v1 sendet Passwörter im Klartext über das Netzwerk. Daher können Passwörter mit Paket-Sniffing gelesen werden. SNMP v2 ermöglicht das Passwort-Hören mit MD5, muss jedoch konfiguriert werden. Nahezu alle Netzwerkmanagement-Software unterstützen SNMP v1, aber nicht unbedingt SNMP v2 oder v3. SNMP v2 wurde speziell entwickelt, um Datensicherheit, d.h. Authentifizierung, Privatsphäre und Autorisierung bereitzustellen, aber nur die SNMP Version 2c hat die Zustimmung der Internet Engineering Task Force (IETF) gewonnen, während die Versionen 2u und 2* aufgrund von Sicherheitsproblemen keine IETF-Zulassung erhalten. SNMP v3 verwendet MD5, Secure Hash Algorithm (SHA) und Schlüsselalgorithmen, um Schutz vor unbefugten Datenänderungs- und Spoofing-Angriffen anzubieten. Wird ein höheres Sicherheitsniveau benötigt, kann der Data Encryption Standard (DES) optional im Cipher Block Chaining-Modus verwendet werden. SNMP v3 ist auf Cisco IOS seit Release 12.0(3)T.SNM implementiert. Pv3 kann brutalen Kraft- und Wörterbuchangriffen unterliegen, um die Authentifizierungsschlüssel oder Verschlüsselungsschlüssel zu erraten, wenn diese Schlüssel aus kurzen (schwachen) Passwörtern oder Passwörtern generiert werden, die in einem Wörterbuch gefunden werden können. SNMPv3 ermöglicht sowohl die Bereitstellung von zufällig gleichmäßig verteilten kryptographischen Schlüsseln und die Generierung kryptographischer Schlüssel aus einem vom Benutzer gelieferten Passwort. Das Risiko, Authentifizierungsstrings von über das Netzwerk übertragenen Hash-Werten zu erraten, hängt von der verwendeten kryptographischen Hash-Funktion und der Länge des Hash-Wertes ab. SNMPv3 verwendet das HMAC-SHA-2 Authentifizierungsprotokoll für das nutzerbasierte Sicherheitsmodell (USM). SNMP verwendet kein sichereres Challenge-Handshake-Authentifizierungsprotokoll. SNMPv3 (wie andere SNMP-Protokollversionen) ist ein Stateless-Protokoll, und es wurde mit einer minimalen Menge von Interaktionen zwischen Agent und Manager entworfen. So würde die Einführung eines Challenge-Response-Handshake für jeden Befehl dem Agenten (und möglicherweise dem Netzwerk selbst) eine Belastung auferlegen, dass die Protokoll-Designer als übermäßig und inakzeptabel betrachteten. Die Sicherheitsmängel aller SNMP-Versionen können durch IPsec-Authentifizierungs- und Vertraulichkeitsmechanismen gemildert werden. SNMP kann auch sicher über Datagram Transport Layer Security (DTLS) getragen werden. Viele SNMP-Implementierungen umfassen eine Art automatische Entdeckung, bei der eine neue Netzwerkkomponente, wie ein Switch oder Router, automatisch entdeckt und abgefragt wird. In SNMPv1 und SNMPv2c erfolgt dies durch einen Community-String, der im Klartext auf andere Geräte übertragen wird. Klartext-Passwörter sind ein erhebliches Sicherheitsrisiko. Sobald die Community-String außerhalb der Organisation bekannt ist, könnte es das Ziel für einen Angriff werden. Um Administratoren von anderen Versuchen, Community-Strings zu benachrichtigen, kann SNMP konfiguriert werden, um Community-Name Authentifizierungsfehler zu passieren. Wird SNMPv2 verwendet, kann das Problem dadurch vermieden werden, dass auf den SNMP Agenten von Netzwerkgeräten eine Passwortverschlüsselung ermöglicht wird. Die gemeinsame Standardkonfiguration für Community-Strings ist öffentlich für den ausschließlichen Zugriff und für das Schreiben. Aufgrund der bekannten Standardeinstellungen hat SNMP die Liste der Common Default Configuration Issues des SANS Institute erweitert und war Nummer zehn auf den SANS Top 10 der wichtigsten kritischen Internet Security Threats für das Jahr 2000. System- und Netzwerkadministratoren ändern diese Konfigurationen häufig nicht. Ob es über TCP oder UDP läuft, SNMPv1 und v2 sind gegen IP-Spoofing-Angriffe anfällig. Mit Spoofing können Angreifer Gerätezugriffslisten in Agenten umgehen, die implementiert sind, um den SNMP-Zugang einzuschränken. SNMPv3 Sicherheitsmechanismen wie USM oder TSM verhindern einen erfolgreichen Spoofing-Angriff. RFC-Referenzen RFC 1155 (STD 16) — Struktur und Identifizierung von Managementinformationen für die TCP/IP-basierten Internets RFC 1156 (Historic) — Management Information Base for Network Management of TCP/IP-based Internets RFC 1157 (Historic) — A Simple Network Management Protocol (SNMP)RFC 1213 (STD 17) — Management Information Base for Network Management of TCP/ FFK-Vermittlungs-Vermittlung Siehe auch AgentX, ein Subagent-Protokoll für SNMP CMIP overTCP/IP (CMOT)Common Management-Informationsprotokoll (CMIP), ein Management-Protokoll durch ISO/OSI, das von Telekommunikationsgeräten verwendet wird Gemeinsame Management-Informationsdienst (CMIS) IEC 62379 Net-SNMP, eine Open Source-Referenz-Implementierung von SNMP Netconf, ein Protokoll, das ein XML-basiertes-Konfigurationsprotokoll für Netzwerk-Geräte weiterlesen Douglas Mauro, Kevin Schmidt (2005). Essential SNMP, Second Edition. O'Reilly Media.p 462.ISBN 978-0596008406.William Stallings (1999). SNMP, SNMPv2, SNMPv3, und RMON 1 und 2. Addison Wesley Longman, Inc.p 619.ISBN 978-0201485349. Externe Links Einfaches Netzwerkmanagement-Protokoll bei Curlie