Das Session Initiation Protocol (SIP) ist ein Signalisierungsprotokoll, das zur Initiierung, Aufrechterhaltung und Beendigung von Echtzeitsitzungen verwendet wird, die Sprach-, Video- und Messaging-Anwendungen umfassen. SIP wird für die Signalisierung und Steuerung von Multimedia-Kommunikationssitzungen in Anwendungen der Internet-Telefonie für Sprach- und Videoanrufe, in privaten IP-Telefonsystemen, in Instant Messaging über Internet Protocol (IP)-Netzwerke sowie Mobiltelefon Calling über LTE (VoLTE) verwendet. Das Protokoll definiert das spezifische Format der ausgetauschten Nachrichten und die Reihenfolge der Kommunikation für die Zusammenarbeit der Teilnehmer. SIP ist ein textbasiertes Protokoll mit vielen Elementen des Hypertext Transfer Protocol (HTTP) und des Simple Mail Transfer Protocol (SMTP). Ein mit SIP eingerichteter Aufruf kann aus mehreren Medienströmen bestehen, für Anwendungen wie Textnachrichten sind jedoch keine separaten Streams erforderlich, die Daten als Nutzlast in der SIP-Nachricht austauschen. SIP arbeitet in Verbindung mit mehreren anderen Protokollen, die die Session-Medien angeben und tragen. Am häufigsten werden Medientyp und Parameterverhandlungen und Medien-Setup mit dem Session Description Protocol (SDP) durchgeführt, das als Payload in SIP-Nachrichten getragen wird. SIP ist unabhängig vom zugrunde liegenden Transportschichtprotokoll konzipiert und kann mit dem User Datagram Protocol (UDP), dem Transmission Control Protocol (TCP) und dem Stream Control Transmission Protocol (SCTP) verwendet werden. Für sichere Übertragungen von SIP-Nachrichten über unsichere Netzwerkverbindungen kann das Protokoll mit Transport Layer Security (TLS) verschlüsselt werden. Für die Übertragung von Medienströmen (Voice, Video) verwendet die in SIP-Nachrichten getragene SDP-Payload typischerweise das Echtzeit-Transportprotokoll (RTP) oder das Secure Real-time Transport Protocol (SRTP). Geschichte SIP wurde ursprünglich von Mark Handley, Henning Schulzrinne, Eve Schooler und Jonathan Rosenberg im Jahr 1996 entworfen, um Multicast-Multimedia-Sessions auf dem Mbone zu ermöglichen. Das Protokoll wurde 1999 als RFC 2543 standardisiert. Im November 2000 wurde SIP als 3GPP-Signalisierungsprotokoll und permanentes Element der IP Multimedia Subsystem-Architektur (IMS) für IP-basierte Streaming-Multimediadienste in zellulären Netzwerken akzeptiert. Im Juni 2002 wurde die Spezifikation in RFC 3261 überarbeitet und seitdem wurden verschiedene Erweiterungen und Klarstellungen veröffentlicht. SIP wurde entwickelt, um ein Signalisierungs- und Call-Setup-Protokoll für IP-basierte Kommunikation bereitzustellen, das die Call-Processing-Funktionen und Funktionen des öffentlichen Switched-Telefonnetzes (PSTN) unterstützt und neue Multimedia-Anwendungen unterstützt. Es wurde für Videokonferenzen, Streaming Medienverteilung, Instant Messaging, Präsenzinformationen, Dateiübertragung, Internet-Fax und Online-Spiele erweitert. SIP zeichnet sich durch seine Befürworter für Wurzeln in der Internet-Community und nicht in der Telekommunikationsindustrie aus. SIP wurde vor allem von der Internet Engineering Task Force (IETF) standardisiert, während andere Protokolle, wie H.323, traditionell mit der International Telecommunication Union (ITU) verbunden sind. Der Protokollbetrieb SIP ist nur an den Signalisierungsoperationen einer Medienkommunikationssitzung beteiligt und wird hauptsächlich zur Einrichtung und Beendigung von Sprach- oder Videoanrufen verwendet. SIP kann verwendet werden, um zwei Parteien (Unicast) oder Multiparty (Multicast) Sitzungen zu erstellen. Es ermöglicht auch eine Änderung bestehender Anrufe. Die Modifikation kann wechselnde Adressen oder Ports beinhalten, mehr Teilnehmer einladen und Medienstreams hinzufügen oder löschen. SIP hat auch Anwendungen in Messaging-Anwendungen, wie Instant Messaging, und Event-Abonnement und Benachrichtigung gefunden. SIP arbeitet in Verbindung mit mehreren anderen Protokollen, die das Medienformat und die Codierung angeben und die die Medien tragen, sobald der Anruf eingerichtet ist. Für den Verbindungsaufbau enthält die Einrichtung einer SIP-Nachricht eine Session Description Protocol (SDP) Dateneinheit, die das Medienformat, Codec und Medienkommunikationsprotokoll angibt. Sprach- und Videomedienströme werden typischerweise zwischen den Terminals mit Hilfe des Echtzeit-Transportprotokolls (RTP) oder Secure Real-time Transport Protocol (SRTP) geführt. Jede Ressource eines SIP-Netzwerks, wie z.B. Benutzer Agenten, Anrufrouter und Voicemail-Boxen, wird durch einen Uniform Resource Identifier (URI) identifiziert. Die Syntax der URI folgt der allgemeinen Standard-Syntax, die auch in Web-Diensten und E-Mail verwendet wird. Das für SIP verwendete URI-System ist sip und ein typischer SIP URI hat das Formular sip:username@domainname oder sip:username@hostport, wo Domainname DNS SRV-Datensätze benötigt, um die Server für SIP-Domain zu lokalisieren, während Hostport eine IP-Adresse oder ein vollständig qualifizierter Domainname des Hosts und Ports sein kann. Ist eine sichere Übertragung erforderlich, wird das Schema sips verwendet. SIP verwendet ähnliche Designelemente wie das HTTP-Anforderungs- und Antworttransaktionsmodell. Jede Transaktion besteht aus einer Clientanfrage, die auf dem Server ein bestimmtes Verfahren oder eine Funktion und mindestens eine Antwort anruft. SIP verwendet die meisten Header-Felder, Kodierungsregeln und Statuscodes von HTTP und bietet ein lesbares textbasiertes Format. SIP kann durch mehrere Transportschichtprotokolle einschließlich Transmission Control Protocol (TCP,) User Datagram Protocol (UDP,) und Stream Control Transmission Protocol (SCTP) durchgeführt werden. SIP-Clients verwenden typischerweise TCP oder UDP auf Portnummern 5060 oder 5061 für SIP-Verkehr auf Server und andere Endpunkte. Port 5060 wird häufig für nicht verschlüsselten Signalverkehr verwendet, während Port 5061 typischerweise für den mit Transport Layer Security (TLS) verschlüsselten Verkehr verwendet wird. SIP-basierte Telefonie-Netzwerke implementieren häufig Call Processing-Funktionen des Signaling Systems 7 (SS7), für die spezielle SIP-Protokollerweiterungen existieren, obwohl die beiden Protokolle selbst sehr unterschiedlich sind. SS7 ist ein zentralisiertes Protokoll, gekennzeichnet durch eine komplexe zentrale Netzwerkarchitektur und dumme Endpunkte (traditionelle Telefonhörer). SIP ist ein Client-Server-Protokoll der Ausrüstung Peers. SIP-Funktionen werden in den kommunizierenden Endpunkten implementiert, während die traditionelle SS7-Architektur nur zwischen Vermittlungszentren genutzt wird. Netzelemente Die Netzwerkelemente, die das Session Initiation Protocol für die Kommunikation verwenden, werden SIP-Benutzer Agenten genannt. Jeder Nutzer-Agent (UA) erfüllt die Funktion eines Nutzer-Agenten-Clients (UAC), wenn er eine Dienstfunktion anfordert, und die eines Benutzer-Agent-Servers (UAS) bei der Antwort auf eine Anfrage. Somit können grundsätzlich alle zwei SIP-Endpunkte ohne zwischengeschaltete SIP-Infrastruktur betrieben werden. Aus netzbetriebstechnischen Gründen, der Bereitstellung öffentlicher Dienste für Nutzer und für Verzeichnisdienste definiert SIP jedoch mehrere spezifische Arten von Netzwerkserverelementen. Jedes dieser Service-Elemente kommuniziert auch innerhalb des Client-Server-Modells, das in User Agent-Clients und Servern implementiert ist. Benutzer-Agent Ein Benutzer-Agent ist ein logischer Netzwerk-Endpunkt, der SIP-Nachrichten sendet oder empfängt und SIP-Sitzungen verwaltet. Benutzer Agenten haben Client- und Serverkomponenten. Der User Agent Client (UAC) sendet SIP-Anfragen. Der User Agent Server (UAS) erhält Anfragen und gibt eine SIP Antwort zurück. Im Gegensatz zu anderen Netzwerkprotokollen, die die Rollen von Client und Server beheben, z.B. in HTTP, in denen ein Webbrowser nur als Client fungiert, und nie als Server benötigt SIP beide Peers, um beide Rollen zu implementieren. Die Rollen von UAC und UAS dauern nur für die Dauer einer SIP-Transaktion. Ein SIP-Telefon ist ein IP-Telefon, das Client- und Serverfunktionen eines SIP-Nutzers implementiert und die traditionellen Callfunktionen eines Telefons, wie z.B. Zifferblatt, Antwort, Ausschuss, Call Hold und Call Transfer zur Verfügung stellt. SIP-Handys können als Hardwaregerät oder als Softphone implementiert sein. Da Anbieter SIP zunehmend als Standard-Telefonie-Plattform implementieren, wird die Unterscheidung zwischen hardwarebasierten und softwarebasierten SIP-Handys verwischt und SIP-Elemente in den grundlegenden Firmware-Funktionen vieler IP-fähige Kommunikationsgeräte wie Smartphones implementiert. In SIP, wie in HTTP, kann sich der Benutzer mit einem Nachrichtenkopffeld (User-Agent) identifizieren, das eine Textbeschreibung der Software, Hardware oder des Produktnamens enthält. Das Benutzer-Agentenfeld wird in Anforderungsnachrichten gesendet, was bedeutet, dass der empfangende SIP-Server diese Informationen zur Ausführung einer gerätespezifischen Konfiguration oder Feature-Aktivierung auswerten kann. Betreiber von SIP-Netzwerkelementen speichern diese Informationen manchmal in Kundenkonto-Portalen, wo sie bei der Diagnose von SIP-Kompatibilitätsproblemen oder bei der Anzeige des Servicestatus nützlich sein können. Proxy-Server Ein Proxy-Server ist ein Netzwerkserver mit UAC- und UAS-Komponenten, der als intermediäre Einheit fungiert, um Anfragen für andere Netzwerkelemente durchzuführen. Ein Proxy-Server spielt in erster Linie die Rolle der Call-Routing; es sendet SIP-Anfragen an eine andere Einheit näher an ihr Ziel. Auch für die Durchsetzung der Politik sind Proxies nützlich, z.B. für die Feststellung, ob ein Benutzer einen Anruf machen darf. Ein Proxy interpretiert und, falls erforderlich, bestimmte Teile einer Anfragenachricht neu geschrieben, bevor er diese weiterleitet. SIP-Proxyserver, die Nachrichten zu mehr als einem Ziel führen, werden aufgerufen, Proxies zu gewinnen. Das Forking einer SIP-Anfrage stellt mehrere Dialoge aus der einzigen Anfrage fest. So kann ein Anruf von einem von mehreren SIP-Endpunkten beantwortet werden. Zur Identifizierung mehrerer Dialoge weist jedes Dialogfeld eine Kennung mit Beiträgen von beiden Endpunkten auf. Redirect Server Ein Umleitungsserver ist ein Nutzer-Agent-Server, der 3xx (Umleitungs-)Antworte auf Anfragen generiert, die er erhält, und leitet den Client, um einen alternativen Satz von URIs zu kontaktieren. Ein Umleitungsserver ermöglicht es Proxyservern, SIP-Sitzungseinladungen auf externe Domänen zu lenken. Kanzler Ein Registrar ist ein SIP-Endpunkt, der einen Standortservice bietet. Es akzeptiert REGISTER-Anfragen, die Erfassung der Adresse und anderer Parameter des Nutzers. Für spätere Anfragen bietet es eine wesentliche Möglichkeit, mögliche Kommunikations-Peers im Netzwerk zu lokalisieren. Der Standortdienst verlinkt eine oder mehrere IP-Adressen an die SIP URI des Anmelders. Mehrere Benutzer Agenten können sich für die gleiche URI registrieren, so dass alle registrierten Benutzer Agenten die Anrufe an die URI erhalten. SIP-Registraer sind logische Elemente und werden oft mit SIP-Proxies zusammengeführt. Um die Skalierbarkeit des Netzwerks zu verbessern, können sich die Standortdienste stattdessen mit einem Umleitungsserver befinden. Session Grenzkontroller Session Grenzkontroller (SBCs) dienen als Middleboxen zwischen Benutzern und SIP-Servern für verschiedene Arten von Funktionen, einschließlich Netzwerktopologie verstecken und Hilfe in NAT-Traversal. SBCs sind eine eigenständig entwickelte Lösung und werden im SIP RFC nicht erwähnt. Gateway Gateways können verwendet werden, um ein SIP-Netzwerk mit anderen Netzwerken, wie dem PSTN, zu verbinden, die verschiedene Protokolle oder Technologien verwenden. SIP-Nachrichten SIP ist ein textbasiertes Protokoll mit Syntax ähnlich dem von HTTP. Es gibt zwei verschiedene Arten von SIP-Nachrichten: Anfragen und Antworten. Die erste Zeile einer Anfrage enthält eine Methode, die die Art der Anfrage definiert, und eine Anfrage-URI, die angibt, wo die Anfrage gesendet werden soll. Die erste Zeile einer Antwort hat einen Antwortcode. Requests Requests initiiert eine Funktionalität des Protokolls. Sie werden von einem Nutzer-Agent-Client an den Server gesendet und mit einer oder mehreren SIP-Antworten beantwortet, die einen Ergebnis-Code der Transaktion zurückgeben und generell den Erfolg, Ausfall oder anderen Zustand der Transaktion anzeigen. Responses Responses Responses werden vom Benutzer Agent Server gesendet, der das Ergebnis einer empfangenen Anfrage angibt. Mehrere Antwortklassen werden erkannt, bestimmt durch den numerischen Bereich der Ergebniscodes: 1xx: Vorläufige Antworten auf Anträge zeigen, dass der Antrag gültig war und bearbeitet wird. 2xx: Erfolgreicher Abschluss der Anfrage. Als Antwort auf eine INVITE wird ein Anruf festgestellt. Der häufigste Code ist 200, was ein unqualifizierter Erfolgsbericht ist. 3xx: Für den Abschluss der Anfrage ist eine Rufumleitung erforderlich. Der Antrag muss mit einem neuen Ziel abgeschlossen werden. 4xx: Die Anfrage kann auf dem Server nicht aus verschiedenen Gründen abgeschlossen werden, einschließlich der Anfrage-Syntax (Code 400). 5xx: Der Server konnte eine anscheinend gültige Anfrage nicht erfüllen, einschließlich Server-interner Fehler (Code 500). 6xx: Die Anfrage kann auf keinem Server erfüllt werden. Es zeigt ein globales Versagen, einschließlich Anrufabweisung durch das Ziel. Transactions SIP definiert einen Transaktionsmechanismus, um den Austausch zwischen Teilnehmern zu steuern und Nachrichten zuverlässig zu liefern. Eine Transaktion ist ein Zustand einer Sitzung, die von verschiedenen Timern kontrolliert wird. Kundentransaktionen senden Anfragen und Servertransaktionen reagieren auf diese Anfragen mit einer oder mehreren Antworten. Die Antworten können vorläufige Antworten mit einem Antwortcode in Form 1xx und eine oder mehrere abschließende Antworten (2xx – 6xx) enthalten. Transaktionen werden weiter als entweder Typ-Einladung oder Typ Nicht-Einladung eingestuft. Einladungstransaktionen unterscheiden sich dadurch, dass sie ein langwieriges Gespräch aufbauen können, das als Dialog in SIP bezeichnet wird, und so eine Anerkennung (ACK) jeglicher nicht-failing Endreaktion, z.B. 200 OK, beinhalten. Instant Messaging und Präsenz Das Session Initiation Protocol for Instant Messaging and Presence Leveraging Extensions (SIMPLE) ist die SIP-basierte Standard-Suite für Instant Messaging und Präsenzinformationen. Message Session Relay Protocol (MSRP) ermöglicht sofortige Nachrichtensitzungen und Dateiübertragung. Konformitätsprüfung Die SIP-Entwicklergemeinschaft trifft sich regelmäßig auf Konferenzen des SIP-Forums, um die Interoperabilität von SIP-Implementierungen zu testen. Die TTCN-3 Testspezifikationssprache, die von einer Task Force auf der ETSI (STF 196) entwickelt wurde, wird zur Angabe von Konformitätstests für SIP-Implementierungen verwendet. Leistungsprüfung Bei der Entwicklung von SIP-Software oder der Bereitstellung einer neuen SIP-Infrastruktur ist es wichtig, die Fähigkeit von Servern und IP-Netzwerken zu testen, um bestimmte Ruflast zu bewältigen: Anzahl der gleichzeitigen Anrufe und Anzahl der Anrufe pro Sekunde. SIP Performance Tester Software wird verwendet, um SIP und RTP-Verkehr zu simulieren, um zu sehen, ob der Server und das IP-Netzwerk unter der Ruflast stabil sind. Die Software misst Leistungsindikatoren wie Antwortverzögerung, Antwort-Seizure-Verhältnis, RTP-Jitter und Paketverlust, Hin- und Rücklaufzeit. Anwendungen SIP-Verbindung ist ein Marketing-Termin für Voice over Internet Protocol (VoIP) Dienstleistungen von vielen Internet-Telefonie-Dienstleistern (ITSPs). Der Service bietet das Routing von Telefonanrufen von der privaten Zweigstelle eines Clients (PBX) Telefonsystem zum PSTN. Solche Dienste können die Infrastruktur des Unternehmensinformationssystems vereinfachen, indem sie den Internetzugang für Sprach- und Daten teilen und die Kosten für die Telefonkreise Basic Rate Interface (BRI) oder Primary Rate Interface (PRI) entfernen. SIP-Trunking ist ein ähnliches Marketing-Termin bevorzugt, wenn der Dienst verwendet wird, um eine Telekom-Infrastruktur zu vereinfachen, indem der Träger-Zugangskreis für Sprach-, Daten- und Internet-Traffic geteilt wird, während der Bedarf an PRI-Schaltungen entfernt wird. SIP-fähige Videoüberwachungskameras können Anrufe initiieren, um den Betreiber von Ereignissen zu alarmieren, wie etwa die Bewegung von Objekten in einem geschützten Bereich. SIP wird in Audio über IP für Rundfunkanwendungen verwendet, bei denen es ein interoperables Mittel für Audioschnittstellen verschiedener Hersteller bietet, um Verbindungen miteinander herzustellen. Implementierungen Das US National Institute of Standards and Technology (NIST,) Advanced Networking Technologies Division bietet eine Public-Domain Java Implementierung, die als Referenz-Implementierung für den Standard dient. Die Implementierung kann in Proxy-Server oder Benutzer Agent Szenarien arbeiten und wurde in zahlreichen kommerziellen und Forschungsprojekten verwendet. Es unterstützt RFC 3261 in voller Höhe und eine Reihe von Erweiterungs-RFCs einschließlich RFC 6665 (Ereignisbenachrichtigung) und RFC 3262 (zuverlässige vorläufige Antworten). Es gibt zahlreiche andere kommerzielle und Open-Source-SIP-Implementierungen. Siehe Liste der SIP-Software. SIP-ISUP interworking SIP-I, Session Initiation Protocol mit gekapseltem ISUP, ist ein Protokoll, das verwendet wird, um Kommunikationssitzungen basierend auf ISUP mit SIP- und IP-Netzwerken zu erstellen, zu modifizieren und zu beenden. Zu den Dienstleistungen, die SIP-I nutzen, gehören Sprach-, Videotelefonie-, Fax- und Daten. SIP-I und SIP-T sind zwei Protokolle mit ähnlichen Merkmalen, insbesondere um ISUP-Nachrichten über SIP-Netzwerke zu transportieren. Dies bewahrt alle Details im ISUP Header. SIP-I wurde durch die ITU-T definiert, während SIP-T durch die IETF definiert wurde. Verschlüsselung Über die Sicherheit von Anrufen über das öffentliche Internet wurde durch Verschlüsselung des SIP-Protokolls zur sicheren Übertragung angesprochen. Das URI-System SIPS wird verwendet, um sicherzustellen, dass die SIP-Kommunikation mit Transport Layer Security (TLS) gesichert wird. SIPS URIs nehmen das Formular sips:user@example.com Eine End-to-End-Verschlüsselung von SIP ist nur möglich, wenn eine direkte Verbindung zwischen Kommunikationsendpunkten besteht. Während eine direkte Verbindung über Peer-to-peer SIP oder über ein VPN zwischen den Endpunkten hergestellt werden kann, beinhaltet die meisten SIP-Kommunikation mehrere Hopfen, wobei der erste Hopfen von einem Benutzeragent zum ITSP des Benutzers stammt. Für den Multi-Hop-Fall wird SIPS nur den ersten Hopfen sichern; die restlichen Hopfen werden normalerweise nicht mit TLS gesichert und die SIP-Kommunikation wird unsicher sein. Im Gegensatz dazu bietet das HTTPS-Protokoll eine End-to-End-Sicherheit, da es mit einer direkten Verbindung ausgeführt wird und nicht die Vorstellung von Hops beinhaltet. Die Medienströme (Audio und Video), die getrennte Verbindungen vom SIPS-Signalisierungsstrom sind, können mittels SRTP verschlüsselt werden. Der Schlüsselaustausch für SRTP wird mit SDES (RFC 4568) oder mit ZRTP (RFC 6189) durchgeführt. Wenn SDES verwendet wird, werden die Tasten über unsichere SIP übertragen, es sei denn, SIPS wird verwendet. Man kann auch einen MIKEY (RFC 3830) Austausch in SIP hinzufügen, um Sitzungsschlüssel für die Verwendung mit SRTP zu bestimmen. Siehe auch Hinweise Referenzen Bibliographie Externe Links IANA: SIP-Parameter IANA: SIP Veranstaltungsarten Namespace