Border Gateway Protocol (BGP) ist ein standardisiertes externes Gateway-Protokoll, das den Austausch von Routing- und Erreichbarkeitsinformationen unter autonomen Systemen (AS) im Internet ermöglicht. BGP wird als Path-Vector-Routing-Protokoll eingestuft, und es trifft Routing-Entscheidungen basierend auf Pfaden, Netzwerkrichtlinien oder von einem Netzwerkadministrator konfigurierten Regeleinstellungen. BGP, die für die Routing innerhalb eines autonomen Systems verwendet wird, heißt Interior Border Gateway Protocol, Interne BGP (iBGP). Im Gegensatz dazu wird die Internet-Anwendung des Protokolls Exterior Border Gateway Protocol, External BGP (eBGP.) Geschichte Das Border Gateway Protokoll wurde erstmals 1989 in RFC 1105 beschrieben und seit 1994 im Internet genutzt. IPv6 BGP wurde 1995 erstmals in RFC 1883 definiert und 1998 auf RFC 2283 verbessert. Die aktuelle Version von BGP ist Version 4 (BGP4), die 2006 als RFC 4271 veröffentlicht wurde. RFC 4271 korrigierte Fehler, geklärte Mehrdeutigkeiten und aktualisierte die Spezifikation mit gemeinsamen Industriepraktiken. Die große Verbesserung war die Unterstützung für Classless Inter-Domain Routing (CIDR) und die Verwendung von Routenaggregation zur Verringerung der Größe der Routing-Tabellen. Der neue RFC ermöglicht BGP4 eine breite Palette von IPv4 und IPv6 "Adressenfamilien". Es wird auch die Multiprotocol Extensions genannt, die Multiprotocol BGP (MP-BGP.) Operation BGP Nachbarn, genannt Peers, werden durch manuelle Konfiguration unter Routern erstellt, um eine TCP-Sitzung auf Port 179 zu erstellen. Ein BGP-Lautsprecher sendet alle 60 Sekunden 19-byte Festhaltenachrichten, um die Verbindung aufrechtzuerhalten. Unter Routing-Protokollen ist BGP einzigartig in der Verwendung von TCP als Transport-Protokoll. Wenn BGP zwischen zwei Peers im gleichen autonomen System (AS) läuft, wird es als interne BGP(i-BGP oder interne Border Gateway Protocol) bezeichnet. Wenn es zwischen verschiedenen autonomen Systemen läuft, wird es External BGP (eBGP oder Exterior Border Gateway Protocol) genannt. Router an der Grenze der einen AS Austauschinformation mit einer anderen AS werden als Grenz- oder Kantenrouter oder einfach eBGP-Peers bezeichnet und sind typischerweise direkt verbunden, während i-BGP-Peers über andere Zwischenrouter miteinander verbunden werden können. Andere Bereitstellungstopologien sind auch möglich, wie z.B. das Führen von eBGP-Peering in einem VPN-Tunnel, wodurch zwei Remote-Sites die Routing-Information sicher und isoliert austauschen können. Der Hauptunterschied zwischen iBGP und eBGP-Peering liegt in der Art, wie Routen, die von einem Peer empfangen wurden, zu anderen Peers propagiert werden. So werden beispielsweise neue, von einem eBGP-Peer erlernte Routen in der Regel auf alle iBGP-Peers sowie alle anderen eBGP-Peers umverteilt (wenn der Transitmodus auf dem Router aktiviert ist). Werden jedoch neue Routen auf einem iBGP-Peering erlernt, so werden sie nur auf alle eBGP-Peers umgeschaltet. Diese Routenbestimmungen erfordern effektiv, dass alle iBGP-Peers innerhalb einer AS in einem vollen Netz miteinander verbunden sind. Wie die Routen propagiert werden, kann über den Routen-Karten-Mechanismus detailliert gesteuert werden. Dieser Mechanismus besteht aus einer Reihe von Regeln. Jede Regel beschreibt für Routen, die bestimmte Kriterien erfüllen, welche Maßnahmen ergriffen werden sollten. Die Aktion könnte sein, die Route zu fallen, oder es könnte sein, einige Attribute der Route zu ändern, bevor sie in die Routing-Tabelle einfügen. Erweiterungen Verhandlung Während des Peering Handshake, wenn OPEN-Nachrichten ausgetauscht werden, BGP-Lautsprecher können optionale Fähigkeiten der Sitzung verhandeln, einschließlich Multiprotocol-Erweiterungen und verschiedene Recovery-Modi. Wenn die Multiprotocol-Erweiterungen zu BGP zum Zeitpunkt der Erstellung ausgehandelt werden, kann der BGP-Lautsprecher die Network Layer Reachability Information (NLRI) vorschreiben, die er mit einem Adressfamilien-Präfix aussendet. Diese Familien umfassen die IPv4 (Standard,) IPv6, IPv4/IPv6 Virtuelle private Netzwerke und Multicast BGP. Zunehmend wird BGP als allgemeines Signalisierungsprotokoll verwendet, um Informationen über Strecken, die nicht Teil des globalen Internets sein können, wie VPNs zu führen. Um Entscheidungen in ihren Betrieben mit Peers zu treffen, verwendet ein BGP-Peer eine einfache endliche Zustandsmaschine (FSM), die aus sechs Zuständen besteht: Idle; Connect; Active; OpenSent; OpenConfirm; and Established. Für jede Peer-to-Peer-Sitzung hält eine BGP-Implementierung eine Zustandsvariable, die von diesen sechs Zuständen die Sitzung verfolgt. Die BGP definiert die Nachrichten, die jeder Peer austauschen sollte, um die Sitzung von einem Zustand in einen anderen zu ändern. Der erste Zustand ist der Idle-Zustand. Im Ruhezustand initialisiert BGP alle Ressourcen, lehnt alle angebundenen BGP-Verbindungsversuche ab und leitet eine TCP-Verbindung zum Peer ein. Der zweite Zustand ist Connect. Im Zustand Connect wartet der Router darauf, dass die TCP-Verbindung abgeschlossen und bei erfolgreichem Erfolg in den Zustand OpenSent übergeht. Wenn erfolglos, startet es den ConnectRetry Timer und übergeht in den aktiven Zustand bei Ablauf. Im Aktivzustand setzt der Router den ConnectRetry-Timer auf Null zurück und kehrt in den Connect-Zustand zurück. Im OpenSent-Zustand sendet der Router eine offene Nachricht und wartet auf eine im Gegenzug, um in den OpenConfirm-Zustand zu wechseln. Festhaltende Botschaften werden ausgetauscht und nach erfolgreichem Empfang wird der Router in den etablierten Zustand gebracht. Im etablierten Zustand kann der Router senden und empfangen: Keepalive; Update; und Notification-Nachrichten an und von seinem Peer. Idle State: Verweigern Sie alle eingehenden BGP-Verbindungen. Starten Sie die Initialisierung von Event-Triggern. Initiiert eine TCP-Verbindung mit ihrem konfigurierten BGP-Peer. Hört auf eine TCP-Verbindung von seinem Peer. Ändert seinen Zustand zu Connect. Wenn bei jedem Zustand des FSM-Prozesses ein Fehler auftritt, wird die BGP-Sitzung sofort beendet und in den Ruhezustand zurückgegeben. Einige der Gründe, warum ein Router nicht aus dem Idle-Zustand Fortschritte sind: TCP-Port 179 ist nicht geöffnet. Ein zufälliger TCP-Port über 1023 ist nicht geöffnet. Peer-Adresse auf beiden Router falsch konfiguriert. AS-Nummer auf beiden Router falsch konfiguriert. Connect State: Wartet auf erfolgreiche TCP-Verhandlungen mit Peer. BGP verbringt nicht viel Zeit in diesem Zustand, wenn die TCP-Sitzung erfolgreich etabliert ist. Sendet Open-Nachricht an Peer und ändert Zustand an OpenSent. Wenn ein Fehler auftritt, bewegt sich BGP in den aktiven Zustand. Einige Gründe für den Fehler sind: TCP-Port 179 ist nicht geöffnet. Ein zufälliger TCP-Port über 1023 ist nicht geöffnet. Peer-Adresse auf beiden Router falsch konfiguriert. AS-Nummer auf beiden Router falsch konfiguriert. Aktiver Staat: Wenn der Router nicht in der Lage war, eine erfolgreiche TCP-Sitzung zu etablieren, endet er im aktiven Zustand. BGP FSM versucht, eine weitere TCP-Sitzung mit dem Peer neu zu starten und, wenn erfolgreich, dann sendet es eine offene Nachricht an den Peer. Wenn es wieder erfolglos ist, wird das FSM in den Ruhezustand zurückgesetzt. Wiederholte Fehler können zu einem Router-Rad zwischen Idle und Active Zustände führen. Einige der Gründe hierfür sind: TCP-Port 179 ist nicht geöffnet. Ein zufälliger TCP-Port über 1023 ist nicht geöffnet. BGP Konfigurationsfehler. Netzüberlastung. Flapping Netzwerkschnittstelle. OpenSent State: BGP FSM hört auf eine offene Nachricht von seinem Peer. Nach Erhalt der Nachricht überprüft der Router die Gültigkeit der offenen Nachricht. Wenn es einen Fehler gibt, ist es, weil eines der Felder in der Offenen Nachricht nicht zwischen den Peers passt, z.B. BGP-Version mismatch, der Peering Router erwartet eine andere My AS, etc. Der Router sendet dann eine Meldungsnachricht an den Peer, in der angezeigt wird, warum der Fehler aufgetreten ist. Wenn es keinen Fehler gibt, wird eine Keepalive-Nachricht gesendet, verschiedene Timer gesetzt und der Zustand wird in OpenConfirm geändert. OpenConfirm State: Der Peer hört auf eine aufmerksame Nachricht von seinem Peer. Wenn eine Keepalive-Nachricht empfangen wird und kein Timer vor dem Empfang des Keepalive abgelaufen ist, geht BGP in den etablierten Zustand über. Wenn ein Timer abläuft, bevor eine Keepalive-Nachricht empfangen wird, oder wenn eine Fehlerbedingung auftritt, geht der Router zurück in den Idle-Zustand. Etablierter Staat: In diesem Zustand senden die Peers Update-Nachrichten, um Informationen über jede Route auszutauschen, die an den BGP-Peer beworben wird. Wenn in der Update-Nachricht ein Fehler vorliegt, wird eine Notification-Nachricht an den Peer gesendet und BGP geht zurück in den Idle-Zustand. Router-Konnektivität und Lernwege In der einfachsten Anordnung müssen alle Router innerhalb eines einzigen AS und die Teilnahme an BGP-Routing in einem vollen Mesh konfiguriert werden: Jeder Router muss als Peer für jeden anderen Router konfiguriert werden. Dies verursacht Skalierungsprobleme, da die Anzahl der benötigten Verbindungen quadratisch mit der Anzahl der beteiligten Router wächst. Um das Problem zu lindern, implementiert BGP zwei Optionen: Routenreflektoren (RFC 4456) und BGP Konfederationen (RFC 5065). Die folgende Diskussion der grundlegenden UPDATE-Verarbeitung nimmt ein volles iBGP-Netz an. Ein vorgegebener BGP-Router kann Netzwerk Layer Reachability Information (NLRI) UPDATE von mehreren Nachbarn akzeptieren und NLRI zu demselben oder einem anderen Satz von Nachbarn inserieren. Konzeptionell hält BGP seinen eigenen Master Routing-Tisch, genannt die lokale Routing-Informationsbasis (Loc-RIB), getrennt von der Haupt Routing-Tabelle des Routers. Für jeden Nachbarn hält der BGP-Prozess eine konzeptionelle benachbarte Routing-Informationsbasis aufrecht, die die vom Nachbar empfangene NLRI (Adj-RIB-In) enthält, und eine konzeptionelle ausgehende Informationsbasis (Adj-RIB-Out) für NLRI an den Nächsten zu senden. Die physische Speicherung und Struktur dieser konzeptionellen Tabellen wird durch die Implementierung des BGP-Codes entschieden. Ihre Struktur ist für andere BGP Router nicht sichtbar, obwohl sie in der Regel mit Managementbefehlen auf dem lokalen Router abfragbar sind. Es ist beispielsweise üblich, die beiden Adj-RIBs und das Loc-RIB gemeinsam in derselben Datenstruktur zu speichern, wobei zusätzliche Informationen an die RIB-Einträge gebunden sind. Die zusätzlichen Informationen geben dem BGP-Prozess Dinge an, wie z.B. ob einzelne Einträge in den Adj-RIBs für bestimmte Nachbarn gehören, ob der Peer-neighbor-Route-Auswahlprozess die für das Loc-RIB in Betracht kommenden Richtlinien erhalten hat und ob Loc-RIB-Einträge in der Lage sind, dem Routing-Tabellen-Management-Prozess des lokalen Routers vorzulegen. BGP wird die Routen einreichen, die es am besten für den Haupt Routing-Tabellenprozess hält. Je nach Durchführung dieses Prozesses wird die BGP-Route nicht unbedingt ausgewählt. Beispielsweise ist ein direkt angeschlossenes Präfix, das aus der eigenen Hardware des Routers gelernt wird, meist bevorzugt. Solange die direkt angeschlossene Route die Schnittstelle aktiv ist, wird die BGP-Route zum Ziel nicht in die Routing-Tabelle gelegt. Wenn die Schnittstelle nach unten geht und es keine bevorzugten Routen mehr gibt, würde die Loc-RIB Route in der Haupt Routing-Tabelle installiert werden. Bis vor kurzem war es ein gemeinsamer Fehler zu sagen: "BGP hat Politiken. " BGP hat tatsächlich die Informationen, mit denen Regeln innerhalb von BGP-sprechenden Routern politische Entscheidungen treffen könnten. Einige der Informationen, die explizit in politischen Entscheidungen verwendet werden sollen, sind Gemeinschaften und Multi-Exit Diskriminatoren (MED). Der BGP-Standard gibt eine Reihe von Entscheidungsfaktoren an, mehr als diejenigen, die von einem anderen gemeinsamen Routing-Prozess verwendet werden, zur Auswahl von NLRI in die Loc-RIB zu gehen. Der erste Entscheidungspunkt für die Bewertung von NLRI ist, dass sein nächstes-Hop-Attribut erreichbar sein muss (oder auflösbar). Eine andere Möglichkeit, den nächsten Hopfen zu sagen, ist, dass es einen aktiven Weg, bereits in der Haupt Routing-Tabelle des Routers, zu dem Präfix, in dem die nächste Hop-Adresse erreichbar ist, geben muss. Als nächstes setzt der BGP-Prozess für jeden Nachbar verschiedene standard- und implementierungsabhängige Kriterien auf, um zu entscheiden, welche Routen konzeptuell in das Adj-RIB-In gehen sollen. Der Nachbar könnte mehrere mögliche Routen zu einem Ziel senden, aber die erste Ebene der Präferenz ist auf der Nachbarebene. Im konzeptionellen Adj-RIB-In wird nur eine Route zu jedem Ziel installiert. Dieser Prozess wird auch aus dem Adj-RIB-In alle Routen löschen, die vom Nachbar zurückgezogen werden. Wenn sich ein konzeptioneller Adj-RIB-In ändert, entscheidet der Haupt-BGP-Prozess, ob eine der neuen Routen des Nachbars für Routen bereits im Loc-RIB bevorzugt wird. Wenn ja, er ersetzt sie. Wird eine bestimmte Route von einem Nachbarn zurückgezogen und es gibt keine andere Route zu diesem Ziel, wird die Route von der Loc-RIB entfernt und nicht mehr von BGP an den Haupt Routing-Tabellenmanager gesendet. Wenn der Router keine Route zu diesem Ziel von einer nicht-BGP-Quelle hat, wird die zurückgezogene Route von der Haupt Routing-Tabelle entfernt. Nach der Überprüfung, dass der nächste Hopfen erreichbar ist, wenn die Route von einem internen (d.h. iBGP) Peer kommt, ist die erste Regel, die gemäß dem Standard anzuwenden ist, das LOCAL_PREFERENCE Attribut zu untersuchen. Wenn es mehrere iBGP Routen vom Nachbarn gibt, wird die mit der höchsten LOCAL_PREFERENCE ausgewählt, es sei denn, es gibt mehrere Routen mit der gleichen LOCAL_ VORWORT. Im letzteren Fall bewegt sich der Routenauswahlprozess zum nächsten Kraterbrecher. Während LOCAL_PREFERENCE ist die erste Regel in der Norm, einmal erreichbarkeit der NEXT_ HOP wird überprüft, Cisco und mehrere andere Anbieter betrachten zunächst einen Entscheidungsfaktor namens WEIGHT, der dem Router lokal ist (d.h. nicht von BGP übertragen). Die Route mit dem höchsten WEIGHT ist bevorzugt. Die LOCAL_PREFERENCE, WEIGHT und andere Kriterien können durch lokale Konfigurations- und Softwarefunktionen manipuliert werden. Eine solche Manipulation, obwohl allgemein verwendet, ist außerhalb des Rahmens der Norm. Beispielsweise wird das COMMUNITY Attribut (siehe unten) nicht direkt vom BGP-Auswahlprozess verwendet. Der BGP Nachbarprozess kann jedoch eine Regel haben, um LOCAL_PREFERENCE oder einen anderen Faktor basierend auf einer manuell programmierten Regel einzustellen, um das Attribut zu setzen, wenn der COMMUNITY-Wert ein Musteranpassungskriterium übereinstimmt. Wenn die Route von einem externen Peer erlernt wurde, berechnet der per-neighbor BGP-Prozess einen LOCAL_PREFERENCE-Wert aus lokalen Richtlinien und vergleicht dann die LOCAL_ PREFERENZ aller Routen vom Nachbarn. Auf der Per-Neighbor-Ebene – ignorieren von implementierungsspezifischen Politik-Modifikationen – ist die Reihenfolge der bruchbrechenden Regeln: Vorbeugen Sie den Weg mit der kürzesten AS_PATH. Ein AS_ PATH ist der Satz von AS-Nummern, die durchfahren werden müssen, um das beworbene Ziel zu erreichen. AS1-AS2-AS3 ist kürzer als AS4-AS5-AS6-AS7. Routen mit dem niedrigsten Wert ihres ORIGIN-Attributs vorziehen. Routen mit dem niedrigsten MULTI_EXIT_DISC (Multi-Exit Diskriminator oder MED) Wert vorziehen. Sobald Kandidatrouten von Nachbarn empfangen werden, wendet die Loc-RIB-Software zusätzliche Krawattenbrecher an Routen zum gleichen Ziel an. Wenn mindestens eine Route von einem externen Nachbarn gelernt wurde (d.h. die Route wurde von eBGP gelernt), fallen alle von iBGP gelernten Routen. Vorziehen der Route mit den niedrigsten Innenkosten auf den NEXT_HOP, nach der Haupt Routing-Tabelle. Wenn zwei Nachbarn dieselbe Route beworben haben, aber ein Nachbar über eine Low-Bitrate-Verbindung erreichbar ist und der andere durch eine High-Bitrate-Verbindung, und das Interieur-Routing-Protokoll berechnet niedrigste Kosten basierend auf höchstem Bitrate, wäre die Route durch die High-Bitrate-Verbindung bevorzugt und andere Routen fallen. Wenn an diesem Punkt noch mehr als eine Route gebunden ist, bieten mehrere BGP-Implementierungen eine konfigurierbare Option zum Last-Sharing unter den Strecken, die alle (oder alle bis zu einer bestimmten Anzahl) akzeptieren. Gemeinschaften BGP-Communities sind Attribute Tags, die auf eingehende oder ausgehende Präfixe angewendet werden können, um ein gemeinsames Ziel zu erreichen. Obwohl es üblich ist, zu sagen, dass BGP es einem Administrator ermöglicht, Richtlinien für die Behandlung von Präfixen durch ISPs festzulegen, ist dies in der Regel nicht möglich, streng gesprochen. Zum Beispiel hat BGP natively kein Konzept, eine AS zu erlauben, eine andere AS zu sagen, die Werbung von einem Präfix auf nur nordamerikanischen Peering-Kunden zu beschränken. Stattdessen veröffentlicht ein ISP in der Regel eine Liste von bekannten oder proprietären Gemeinschaften mit einer Beschreibung für jeden, die im Wesentlichen eine Vereinbarung über die Behandlung von Präfixen wird. RFC 1997 definiert drei bekannte Gemeinden, die globale Bedeutung haben; NO_EXPORT, NO_ADVERTISE und NO_EXPORT_SUBCONFED.RFC 7611 definiert ACCEPT_OWN. Beispiele für gemeinsame Gemeinschaften sind lokale Präferenzanpassungen, geographische oder Peer-Typ Einschränkungen, Denial-of-Service-Attacken-Identifizierung und AS-Präpendenzoptionen. Ein ISP könnte sagen, dass alle Routen, die von Kunden mit Community XXX:500 erhalten, an alle Peers (Standard) beworben werden, während die Community XXX:501 nur nach Nordamerika beworben wird. Der Kunde passt einfach seine Konfiguration an, um die richtige Gemeinschaft oder Gemeinschaften für jede Strecke einzubeziehen, und der ISP ist dafür verantwortlich, wer das Präfix beworben wird. Der Endbenutzer hat keine technische Fähigkeit, korrekte Aktionen durchzusetzen, die vom ISP ergriffen werden, obwohl Probleme in diesem Bereich in der Regel selten und zufällig sind. Es ist eine gemeinsame Taktik für Endkunden, BGP-Communities (in der Regel ASN:70,80,90,100) zu verwenden, um die lokale Präferenz zu kontrollieren, die ISP zu beworbenen Routen statt MED (der Effekt ist ähnlich). Das Community-Attribut ist transitiv, aber Gemeinden, die vom Kunden angewendet werden, werden sehr selten außerhalb der nächsten AS propagiert. Nicht alle ISPs geben ihre Gemeinden der Öffentlichkeit aus, während einige andere tun. Das BGP Extended Community Attribut wurde 2006 hinzugefügt, um die Reichweite solcher Attribute zu erweitern und eine gemeinschaftliche Attributstrukturierung mittels eines Typfelds bereitzustellen. Das erweiterte Format besteht aus einem oder zwei Oktetten für das Typfeld, gefolgt von sieben oder sechs Oktetten für den jeweiligen Community-Attributinhalt. Die Definition dieses erweiterten Gemeinschaftsattributs ist in RFC 4360 dokumentiert. Die IANA verwaltet das Register für BGP Extended Communities Types. Die erweiterten Gemeinschaften Attribut selbst ist ein transitives optionales BGP Attribut. Ein bisschen im Typfeld innerhalb des Attributs entscheidet jedoch, ob die kodierte erweiterte Gemeinschaft eine vorübergehende oder nicht-transitive Natur ist. Die IANA-Registrierung bietet daher unterschiedliche Zahlenbereiche für die Attributtypen. Durch den erweiterten Attributbereich kann der Einsatz vielfältig sein. RFC 4360 definiert beispielhaft die "Zwei-Octet AS Specific Extended Community", die "IPv4 Address Specific Extended Community", die "Opaque Extended Community", die "Route Target Community" und die "Route Origin Community". Eine Reihe von BGP QoS-Entwürfen verwenden auch diese Extended Community Attributstruktur für die interdomain QoS-Signalisierung. Hinweis: Seit RFC 7153 sind erweiterte Gemeinden mit 32-Bit-ASN kompatibel. Mit der Einführung von 32-Bit-AS-Nummern waren einige Probleme sofort offensichtlich mit dem Community-Attribut, das nur ein 16-Bit-ASN-Feld definiert, das die Anpassung zwischen diesem Feld und dem echten ASN-Wert verhindert. Es ist der Grund, warum RFC 8092 und RFC 8195 ein großes Gemeinschaftsattribut von 12 Bytes einführen, geteilt in drei Bereiche von je 4 Bytes (AS:Funktion: Parameter). Multi-Exit-Diskriminatoren MEDs, definiert im Haupt-BGP-Standard, waren ursprünglich beabsichtigt, einem anderen Nachbarn zu zeigen, die Präferenz der Werbung AS, welche von mehreren Links für Inbound-Verkehr bevorzugt sind. Eine andere Anwendung von MEDs ist, den Wert, typischerweise auf Verzögerung, von mehreren AS, die Präsenz bei einem IXP zu bewerben, dass sie verhängen, um Verkehr zu einem bestimmten Ziel zu senden. Nachrichtenübermittlung Format Das folgende ist das BGP Version 4 Message Header Format: Marker: Inklusive Kompatibilität muss auf alle gesetzt werden. Länge: Gesamtlänge der Botschaft in Oktetten, einschließlich des Headers. Typ: Art der BGP-Nachricht. Folgende Werte sind definiert:Open (1) Update (2) Notification (3) KeepAlive (4) Route-Refresh (5) Interne Skalierbarkeit BGP ist "die skalierbarste aller Routing-Protokolle. " Ein autonomes System mit internem BGP (iBGP) muss alle seine iBGP-Peers in vollem Netz miteinander verbinden (wo jeder direkt mit jedem spricht). Diese vollmaschige Konfiguration erfordert, dass jeder Router eine Sitzung zu jedem anderen Router hält. In großen Netzwerken kann diese Anzahl von Sitzungen die Leistung von Routern verschlechtern, entweder durch einen Mangel an Speicher oder hohe CPU-Prozessanforderungen. Routenreflektoren Routenreflektoren reduzieren die Anzahl der Verbindungen, die in einer AS erforderlich sind. Ein einziger Router (oder zwei für Redundanz) kann als Routenreflektor ausgeführt werden: andere Router in der AS müssen nur als Peers zu ihnen konfiguriert werden. Ein Routenreflektor bietet eine Alternative zu der logischen vollmaschigen Anforderung des internen Grenz-Gateway-Protokolls (IBGP).Ein RR fungiert als Schwerpunkt für IBGP-Sitzungen. Der Zweck des RR ist Konzentration. Mehrere BGP Router können mit einem zentralen Punkt, die RR - fungieren als Routenreflektor-Server - statt mit jedem anderen Router in einem vollen Mesh. Alle anderen IBGP Router werden Routenreflektor-Clients. Dieser Ansatz, ähnlich der DR/BDR-Funktion von OSPF, bietet große Netzwerke mit zusätzlicher IBGP-Skalierbarkeit. In einem vollmaschigen IBGP-Netzwerk von 10 Routern werden 90 einzelne CLI-Anweisungen (über alle Router in der Topologie verteilt) benötigt, um die Remote-AS jeder Peer zu definieren: dies wird schnell ein Kopfschmerz zu verwalten. Eine RR-Topologie konnte diese 90 Aussagen auf 18 reduzieren und bietet eine tragfähige Lösung für die größeren Netzwerke, die von ISPs verwaltet werden. Ein Routenreflektor ist ein einziger Fehlerpunkt, daher kann zumindest ein zweiter Routenreflektor ausgebildet sein, um Redundanz bereitzustellen. Da es ein zusätzlicher Peer für die anderen 10 Router ist, kommt es mit der zusätzlichen Aussagezahl zu verdoppeln, dass minus 2 der einzelnen Route Reflector Setup. Eine weitere 11*2-2=20 Aussagen in diesem Fall durch Hinzufügen des zusätzlichen Routers. Darüber hinaus kann dies in einer Multipath-Umgebung von BGP auch durch die Hinzufügung von lokalen Vermittlungs-/Routing-Durchsatz profitieren, wenn die RRs als traditionelle Router fungieren, anstatt nur eine dedizierte Route Reflector Server-Rolle. Regeln RR-Server propagieren Routen innerhalb der AS basierend auf folgenden Regeln: Wenn eine Route von einem nicht-klient Peer empfangen wird, reflektieren Sie nur Kunden und EBGP-Peers. Wenn eine Route von einem Client-Peer empfangen wird, reflektieren Sie alle nicht-klient-Peers und auch Kunden-Peers, außer dem Originator der Route und reflektieren EBGP-Peers. Cluster RR und seine Kunden bilden einen Cluster". Die Cluster-ID wird dann an jede von RR an seinen Kunden oder nicht-klient Peers beworbene Route angeschlossen. Cluster-ID ist ein kumulatives, nicht-transitives BGP-Attribut und jedes RR MUST prependiert die lokale CLUSTER_ID an den CLUSTER_LIST, um Routing-Loops zu vermeiden. Routenreflektoren und Konföderationen reduzieren sowohl die Anzahl der iBGP-Peers an jeden Router und reduzieren so die Verarbeitung über Kopf. Routenreflektoren sind eine reine leistungssteigernde Technik, während Konföderationen auch verwendet werden können, um feinkörnigere Politik umzusetzen. BGP-Konföderationen sind Sets autonomer Systeme. In der Praxis wird nur eine der Konföderation AS Zahlen vom Internet als Ganzes gesehen. In sehr großen Netzwerken werden Konfessionen eingesetzt, in denen eine große AS konfiguriert werden kann, um kleinere überschaubare interne ASs zu umfassen. Die konföderierte AS besteht aus mehreren ASs. Jede konföderierte AS allein hat iBGP vollständig gekämmt und hat Verbindungen zu anderen ASs innerhalb der Konföderation. Auch wenn diese ASs innerhalb der Konföderation eBGP an ASs stoßen, tauschen sich die ASs aus, als ob sie iBGP benutzten. Auf diese Weise erhält die Konföderation die nächsten Hop-, Metrik- und lokalen Präferenzinformationen. In der Außenwelt scheint die Konföderation ein einziges AS zu sein. Mit dieser Lösung können iBGPtransit AS-Probleme behoben werden, da iBGP ein volles Netz zwischen allen BGP-Routern benötigt: große Anzahl von TCP-Sitzungen und unnötige Vervielfältigung des Routing-Verkehrs. Konföderationen können in Verbindung mit Streckenreflektoren verwendet werden. Sowohl Konföderationen als auch Routenreflektoren können einer anhaltenden Oszillation unterworfen werden, es sei denn, es werden spezifische Designregeln, die sowohl BGP als auch das interne Routing-Protokoll betreffen, verfolgt. Diese Alternativen können jedoch eigene Probleme einführen, einschließlich der folgenden: Routenschwingung suboptimale Routing-Anhebung der BGP KonvergenzzeitAdditionell wurden Routenreflektoren und BGP-Konföderationen nicht entwickelt, um die BGP Router-Konfiguration zu erleichtern. Dennoch sind dies gemeinsame Werkzeuge für erfahrene BGP-Netzwerkarchitekten. Diese Werkzeuge können beispielsweise als Hierarchie von Streckenreflektoren kombiniert werden. Stabilität Die von einer BGP-Implementierung verwalteten Routing-Tabellen werden laufend angepasst, um tatsächliche Veränderungen im Netzwerk zu reflektieren, wie z.B. Links brechen und wiederhergestellt werden oder Router stürzen ab und kommen zurück. Im gesamten Netz ist es normal, dass diese Veränderungen fast kontinuierlich erfolgen, aber für jeden bestimmten Router oder Link sollen Änderungen relativ selten sein. Wird ein Router falsch konfiguriert oder falsch verwaltet, so kann er in einen schnellen Zyklus zwischen Down- und Up-Zuständen gelangen. Dieses Muster der wiederholten Rücknahme und Rückmeldung, die als Routenklappe bekannt ist, kann zu einer übermäßigen Aktivität in allen anderen Routern führen, die über den gebrochenen Link wissen, da die gleiche Strecke ständig injiziert und aus den Routing-Tabellen entnommen wird. Das BGP-Design ist so, dass die Lieferung des Verkehrs nicht funktionieren kann, während die Routen aktualisiert werden. Im Internet kann ein BGP-Routingwechsel mehrere Minuten lang Ausfälle verursachen. Ein als Routenklappendämpfung (RFC 2439) bekanntes Merkmal wird in vielen BGP-Implementierungen aufgebaut, um die Auswirkungen des Routenklappens zu mindern. Ohne Dämpfung kann die übermäßige Aktivität eine schwere Bearbeitungsbelastung auf Routern verursachen, was wiederum Verzögerungsaktualisierungen auf anderen Strecken verursachen kann und so die Gesamtlaufstabilität beeinflussen kann. Bei der Dämpfung wird das Klappen einer Strecke exponentiell abgebaut. Im ersten Fall, wenn eine Strecke nicht verfügbar wird und schnell wieder erscheint, wird die Dämpfung nicht wirksam, um die normalen Ausfallzeiten von BGP zu halten. Beim zweiten Auftreten schimpft BGP das Präfix für eine bestimmte Zeit; anschließende Ereignisse werden exponentiell ausgezeitet. Nachdem die Anomalien aufgehört haben und eine geeignete Zeit für die Abfahrstrecke verstrichen ist, können Präfixe wieder hergestellt und deren Schiefer gereinigt werden. Die Beschädigung kann auch die Verweigerung von Service-Angriffen mildern; Dämpfungszeiten sind hoch anpassbar. Es wird auch in RFC 2439 vorgeschlagen (unter "Design Choices -> Stability Sensitive Suppression of Route Advertisement"), dass Route Klappendämpfung ist ein Feature wünschenswerter, wenn implementiert zu Exterior Border Gateway Protocol Sessions (eBGP Sessions oder einfach Exterieur Peers genannt) und nicht auf Interior Border Gateway Protocol Sessions (iBGP Sessions oder einfach interne Peers genannt); Mit diesem Ansatz, wenn eine Route in einem autonomen System klappen, wird sie nicht an die externen ASs propagiert – ein Weg zu einem eBGP klappen wird eine Kette von Klappen für die jeweilige Route über das Rückgrat haben. Dieses Verfahren vermeidet auch erfolgreich die Oberleitung der Streckenklappendämpfung für iBGP-Sitzungen. Nachfolgende Untersuchungen haben jedoch gezeigt, dass die Klappendämpfung die Konvergenzzeiten in einigen Fällen tatsächlich verlängern kann und auch dann zu Unterbrechungen der Konnektivität führen kann, wenn Verbindungen nicht klappen. Da die Backbone-Links und Router-Prozessoren schneller geworden sind, haben einige Netzwerkarchitekten vorgeschlagen, dass die Klappendämpfung möglicherweise nicht so wichtig ist wie früher, da Änderungen am Routing-Tisch durch Router viel schneller gehandhabt werden können. Dies hat die RIPE Routing Arbeitsgruppe dazu geführt, zu schreiben, dass "mit den aktuellen Implementierungen der BGP Klappendämpfung die Anwendung der Klappendämpfung in ISP-Netzwerken NICHT empfohlen wird. .Wenn Klappendämpfung implementiert ist, wird das ISP-Betrieb, das Netzwerk wird Nebenwirkungen für ihre Kunden und die Internetnutzer der Inhalte und Dienste ihrer Kunden verursachen ....Diese Nebenwirkungen wären ziemlich wahrscheinlich schlechter als die Auswirkungen, die durch einfach keine Klappendämpfung verursacht werden." Die Verbesserung der Stabilität ohne die Probleme der Klappendämpfung ist Gegenstand der aktuellen Forschung. Routing-Tabellenwachstum Eines der größten Probleme der BGP, und in der Tat die Internet-Infrastruktur insgesamt, ist das Wachstum der Internet Routing-Tabelle. Wenn die globale Routing-Tabelle zu dem Punkt wächst, wo einige ältere, weniger leistungsfähige Router nicht mit den Speicheranforderungen oder der CPU-Last der Aufrechterhaltung der Tabelle zu bewältigen, werden diese Router aufhören, effektive Gateways zwischen den Teilen des Internets, die sie verbinden. Darüber hinaus, und vielleicht noch wichtiger, nehmen größere Routing-Tabellen länger, um zu stabilisieren (siehe oben) nach einer großen Konnektivitätsänderung, so dass Netzwerk-Service nicht zuverlässig oder sogar nicht verfügbar, in der Zwischenzeit. Bis Ende 2001 wuchs der globale Routing-Tisch exponentiell und bedrohte einen eventuell weit verbreiteten Zusammenbruch der Konnektivität. Um dies zu verhindern, kooperierten ISPs, um die globale Routing-Tabelle so klein wie möglich zu halten, indem sie Classless Inter-Domain Routing (CIDR) und Routenaggregation verwendet. Während dies das Wachstum der Routing-Tabelle für mehrere Jahre zu einem linearen Prozess verlangsamt hat, war das Wachstum mit der erweiterten Nachfrage nach Multihoming durch Endbenutzernetzwerke bis Mitte 2004 wieder überlinear. 512k Tag Ein Y2K-ähnlicher Überlauf löste 2014 für jene Modelle aus, die nicht entsprechend aktualisiert wurden. Während eine volle IPv4 BGP-Tabelle ab August 2014 (512k Tag) über 512.000 Präfixe lag, hatten viele ältere Router eine Grenze von 512k (512.000–524,288) Routing-Tabelleneinträgen. Am 12. August 2014 trafen unter anderem Outages aus Volltische eBay, LastPass und Microsoft Azure. Eine Reihe von Cisco Routern, die häufig verwendet wurden, hatte TCAM, eine Form von High-Speed-Inhalte-Adressable-Speicher, zur Speicherung von BGP beworbenen Routen. Bei aufprallten Routern wurde die TCAM standardmäßig als 512k IPv4 Routen und 256k IPv6 Routen zugewiesen. Während die gemeldete Anzahl von IPv6 beworbenen Routen nur etwa 20k betrug, erreichte die Anzahl der beworbenen IPv4 Routen die Standardgrenze, wodurch ein Spillover-Effekt, da Router versuchten, das Problem durch langsame Software-Routing (im Gegensatz zu schnellen Hardware-Routing über TCAM) zu kompensieren. Die Hauptmethode für den Umgang mit dieser Ausgabe besteht darin, dass die Betreiber die TCAM-Zuweisung ändern, um mehr IPv4-Einträge zu ermöglichen, indem einige der TCAM für IPv6-Routen reserviert werden, was einen Neustart auf den meisten Routern erfordert. Das 512k-Problem wurde von einer Reihe von IT-Profis prognostiziert. Die tatsächlichen Zuweisungen, die die Anzahl der Strecken über 512k drängten, waren die Ankündigung von rund 15.000 neuen Strecken in kurzer Reihenfolge, beginnend bei 07:48 UTC. Fast alle diese Routen waren zu Verizon Autonomous Systems 701 und 705, erstellt durch Deaggregation von größeren Blöcken, Einführung Tausende von neuen /24 Routen, und die Routing-Tabelle erreichen 515.000 Einträge. Die neuen Strecken scheinen innerhalb von 5 Minuten neu aggregiert worden zu sein, aber die Instabilität im Internet blieb offensichtlich für eine Reihe von Stunden. Selbst wenn Verizon den Routing-Tisch nicht dazu veranlasst hätte, 512k Einträge im kurzen Spieß zu überschreiten, wäre es bald ohnehin durch natürliches Wachstum geschehen. Die Routensummarisierung wird oft verwendet, um die Aggregation der BGP Global Routing-Tabelle zu verbessern, wodurch die notwendige Tischgröße in Routern einer AS reduziert wird. Betrachten Sie AS1 wurde der große Adressraum von 172.16.0.0/16 zugewiesen, dies würde als eine Route in der Tabelle gezählt werden, aber aufgrund der Kundenanforderung oder Verkehrstechnik Zwecke will AS1 kleinere, spezifischere Routen von 172.16.0.0/18, 172.16.64.0/18 und 172.16.128.0/18 bekanntgeben. Das Präfix 172.16.192.0/18 hat keine Hosts, so dass AS1 keine spezifische Route 172.16.192.0/18 bekannt gibt. Das alles zählt als AS1, die vier Strecken ankündigt. AS2 wird die vier Routen von AS1 (172.16.0.0/16, 172.16.0.0/18, 172.16.64.0/18 und 172.16.128.0/18) sehen, und es liegt an der Routing-Politik von AS2 zu entscheiden, ob eine Kopie der vier Strecken oder, wie 172.16.0.0/16 übergreift alle anderen spezifischen Routen, nur speichern die Zusammenfassung, 172.16. Wenn AS2 Daten an das Präfix 172.16.192.0/18 senden möchte, wird es an die Router von AS1 auf der Route 172.16.0.0/16.At AS1's router gesendet, es wird entweder fallen gelassen oder ein Ziel nicht erreichbare ICMP-Nachricht wird je nach Konfiguration der Router von AS1 zurückgeschickt. Entscheidet sich AS1 später, die Strecke 172.16.0.0/16 ab 172.16.0.0/18, 172.16.64.0/18 und 172.16.128.0/18 abzusenken, so wird AS1 die Anzahl der Routen absenken, die sie auf drei ankündigt. AS2 wird die drei Routen sehen, und je nach der Routing-Politik von AS2 wird es eine Kopie der drei Routen speichern oder das Präfix 172.16.0.0/18 und 172.16.64.0/18 bis 172.16.0.0/17 aggregieren, wodurch die Anzahl der Strecken AS2 Läden auf nur zwei reduziert wird: 172.16.0.0/17 und 172.16.128.0/18. Wenn AS2 Daten an das Präfix 172.16.192.0/18 senden möchte, wird diese gelöscht oder eine nicht erreichbare ICMP-Nachricht an die Router von AS2 zurückgeschickt (nicht AS1 wie zuvor), weil 172.16.192.0/18 wäre nicht in der Routing-Tabelle. Die RFC 1771 (A Border Gateway Protocol 4 (BGP-4) plante die Kodierung von AS-Nummern auf 16 Bit, für 64510 mögliche öffentliche AS, da ASN 64512 bis 65534 für den privaten Gebrauch reserviert waren (0 und 65535 verboten). Im Jahr 2011 waren noch nur 15000 AS-Nummern verfügbar, und Projektionen sahen sich im September 2013 eine vollständige Abnahme der verfügbaren AS-Nummern vor. RFC 6793 erweitert die AS-Codierung von 16 bis 32 Bit (die 16 Bits AS-Bereich 0 bis 65535 und ihre reservierten AS-Zahlen), die nun bis zu 4 Milliarden verfügbare AS ermöglicht. Ein zusätzlicher privater AS-Bereich ist auch in RFC 6996 definiert (von 420000 bis 4294967294, 4294967295 durch RFC 7300 verboten). Damit Routergruppen diese neuen ASNs nicht verwalten können, ist das neue Attribut OT AS4_ PATH wird verwendet. Im Jahr 2007 begannen 32-Bit ASN-Aufträge. Lastausgleich Ein weiterer Faktor, der dieses Wachstum der Routing-Tabelle verursacht, ist die Notwendigkeit für den Lastausgleich von Multi-Heimat-Netzwerken. Es ist keine triviale Aufgabe, den Inbound-Verkehr aufgrund der Einschränkung des BGP-Routenauswahlprozesses auf ein multi-homed-Netzwerk über seine multiplen Inbound-Pfade auszugleichen. Für ein multi-homed-Netzwerk, wenn es die gleichen Netzwerkblöcke über alle seine BGP-Peers bekannt gibt, kann das Ergebnis sein, dass eine oder mehrere seiner inbound-Links verstopft werden, während die anderen Links unter-genutzt bleiben, weil externe Netzwerke alle ausgewählt, dass Satz von kongested Pfade als optimal. Wie die meisten anderen Routing-Protokolle erkennt BGP keine Staus. Um dieses Problem zu bewältigen, können BGP-Administratoren dieses Multihomed-Netzwerks einen großen zusammenhängenden IP-Adressenblock in kleinere Blöcke unterteilen und die Routenankündigung schalten, um verschiedene Blöcke auf verschiedenen Pfaden optimal aussehen zu lassen, so dass externe Netzwerke einen anderen Pfad wählen, um verschiedene Blöcke dieses Multi-Home-Netzwerks zu erreichen. Solche Fälle werden die Anzahl der Routen erhöhen, wie auf der globalen BGP-Tabelle. Eine Methode, die in der Popularität wächst, um das Lastausgleichsproblem zu lösen, ist die Bereitstellung von BGP/LISP (Locator/Identifier Separation Protocol) Gateways innerhalb eines Internet-Wechselpunktes, um die Verkehrsentwicklung über mehrere Links hinweg zu ermöglichen. Diese Technik erhöht nicht die Anzahl der Routen auf der globalen BGP-Tabelle. Sicherheit Router, die BGP betreiben, akzeptieren standardmäßig beworbene Routen von anderen BGP Routern. Dies ermöglicht eine automatische und dezentrale Routing des Verkehrs über das Internet, aber es lässt auch das Internet möglicherweise anfällig für versehentliche oder schädliche Störungen, bekannt als BGP-Hijacking. Aufgrund des Umfangs, in dem BGP in die Kernsysteme des Internets eingebettet ist, und der Anzahl der verschiedenen Netzwerke, die von vielen verschiedenen Organisationen betrieben werden, die das Internet gemeinsam ausbilden, ist die Korrektur dieser Schwachstelle (z.B. durch Einführung der Verwendung kryptographischer Schlüssel zur Überprüfung der Identität von BGP-Routern) ein technisch und wirtschaftlich herausforderndes Problem. Erweiterungen Eine Erweiterung auf BGP ist die Verwendung von Multipathing – dies erfordert in der Regel identische MED, Gewicht, Herkunft und AS-Pfad, obwohl einige Implementierungen die Möglichkeit bieten, die AS-Pfad-Überprüfung zu entspannen, nur eine gleiche Weglänge zu erwarten, anstatt die tatsächlichen AS-Zahlen in der zu erwartenden Strecke. Dies kann dann mit Merkmalen wie Ciscos dmzlink-bw weiter erweitert werden, die ein Verhältnis von Verkehrsfreigabe basierend auf Bandbreitenwerten, die auf einzelnen Links konfiguriert sind, ermöglicht. Multiprotocol Extensions for BGP (MBGP), manchmal als Multiprotocol BGP oder Multicast BGP bezeichnet und in IETF RFC 4760 definiert, ist eine Erweiterung auf (BGP), die es erlaubt, verschiedene Arten von Adressen (bekannt als Adressfamilien) parallel zu verteilen. Während Standard BGP nur IPv4 Unicast-Adressen unterstützt, unterstützt Multiprotocol BGP IPv4 und IPv6 Adressen und unterstützt Unicast- und Multicast-Varianten. Multiprotocol BGP ermöglicht es, Informationen über die Topologie von IP-multicastfähigen Routern getrennt von der Topologie von normalen IPv4-Unicast-Routern auszutauschen. So ermöglicht es eine Multicast Routing Topologie, die von der Unicast Routing Topologie verschieden ist. Obwohl MBGP den Austausch von interdomain Multicast Routing-Informationen ermöglicht, sind andere Protokolle wie die Protocol Independent Multicast-Familie erforderlich, um Bäume zu bauen und Multicast-Verkehr zu fördern. Multiprotocol BGP ist auch bei MPLS L3 VPN weit verbreitet, um VPN-Etiketten für die Routen von den Kunden-Websites über das MPLS-Netzwerk zu austauschen, um zwischen verschiedenen Kunden-Websites zu unterscheiden, wenn der Verkehr von den anderen Kunden-Websites zum Provider Edge Router (PE Router) für das Routing kommt. Verwendungen BGP4 ist Standard für die Internet-Routing und von den meisten Internet-Dienstleistern (ISPs) erforderlich, um Routing zwischen einander zu etablieren. Sehr große private IP-Netzwerke nutzen BGP intern. Ein Beispiel ist das Zusammenfügen einer Reihe von großen Open Shortest Path First (OSPF) Netzwerken, wenn OSPF von selbst nicht auf die benötigte Größe skaliert. Ein weiterer Grund, BGP zu verwenden, ist Multihoming ein Netzwerk für eine bessere Redundanz, entweder zu mehreren Access Points eines einzelnen ISP oder zu mehreren ISPs. Implementierungen Router, insbesondere kleine, die für die Verwendung von Small Office/Home Office (SOHO) bestimmt sind, dürfen keine BGP-Software enthalten. Einige SOHO Router sind einfach nicht in der Lage, BGP / mit BGP Routing-Tabellen jeder Größe laufen. Andere kommerzielle Router können ein bestimmtes Software ausführbares Bild benötigen, das BGP enthält, oder eine Lizenz, die es ermöglicht. Open Source-Pakete, die BGP ausführen, umfassen GNU Zebra, Quagga, OpenBGPD, BIRD, XORP und Vyatta. Geräte, die als Layer 3 Switche vermarktet werden, sind weniger wahrscheinlich, BGP als Geräte zu unterstützen, die als Router vermarktet werden, aber High-End Layer 3 Switches können in der Regel BGP ausführen. Als Switche vermarktete Produkte können auf BGP-Tabellen, wie 20.000 Routen, weit kleiner als eine komplette Internet-Tabelle plus interne Routen, eine Größenbegrenzung aufweisen. Diese Geräte können jedoch durchaus sinnvoll und nützlich sein, wenn sie zum BGP-Routing von einigen kleineren Teil des Netzes verwendet werden, wie z.B. eine Konföderation-AS, die eines von mehreren kleineren Unternehmen repräsentiert, die durch ein BGP-Rückgrat von Rückgraten verknüpft sind, oder ein kleines Unternehmen, das Routen zu einem ISP ankündigt, aber nur eine Standardroute und vielleicht eine kleine Anzahl von aggregierten Routen akzeptiert. Ein BGP-Router, der nur für ein Netzwerk mit einem einzigen Eintragspunkt zum Internet verwendet wird, kann eine viel kleinere Routing-Tabellengröße (und damit RAM und CPU-Anforderung) als ein Multihomed-Netzwerk aufweisen. Selbst einfache Multihoming kann bescheidene Routing Tischgröße haben. Siehe RFC 4098 für herstellerunabhängige Leistungsparameter für einzelne BGP-Routerkonvergenz in der Kontrollebene. Die tatsächliche Speichermenge, die in einem BGP-Router benötigt wird, hängt von der Menge der mit anderen BGP-Lautsprechern ausgetauschten BGP-Informationen und der Art ab, wie der jeweilige Router BGP-Informationen speichert. Der Router muss möglicherweise mehr als eine Kopie einer Route halten, so dass es verschiedene Richtlinien für die Routenwerbung und die Akzeptanz zu einem bestimmten benachbarten AS verwalten kann. Die Begriffsansicht wird häufig für diese unterschiedlichen politischen Beziehungen auf einem laufenden Router verwendet. Nimmt eine Router-Implementierung mehr Speicher pro Route als eine andere Implementierung, kann dies eine legitime Wahl des Designs sein, die Verarbeitungsgeschwindigkeit gegen Speicher. Eine vollständige IPv4 BGP-Tabelle ab August 2015 liegt über 590.000 Präfixe. Große ISPs können weitere 50% für interne und Kundenrouten hinzufügen. Je nach Ausführung können für jede Ansicht eines anderen Peer AS separate Tabellen gehalten werden. Bemerkenswerte kostenlose und Open-Source-Implementierungen von BGP sind: BIRD Internet Routing Daemon, ein GPL Routing-Paket für Unix-ähnliche Systeme. FRRouting, eine Gabel von Quagga für Unix-ähnliche Systeme. GNU Zebra, eine GPL-Routing-Suite, die BGP4 unterstützt. OpenBGPD, eine BSD-lizenzierte Implementierung durch das OpenBSD-Team. Quagga, eine Gabel von GNU Zebra für Unix-ähnliche Systeme. XORP, die eXtensible Open Router Platform, eine BSD lizenzierte Suite von Routing-Protokollen.RFC-Systeme für RFC-Konformität, RFC-Verteilung und RFC-Verteilung